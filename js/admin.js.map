{"version":3,"sources":["admin.js"],"names":["pprf_resize_iframe","obj","style","height","contentWindow","document","body","scrollHeight","pprf_update_iframe_size","x","y","jQuery","animate","pprf_update_size","pprf_original_height","pprf_update_parent_iframe","pprf_parent_height","pprf_new","podid","postid","cpodid","authorid","iframeid","poditemid","parent_name","isNaN","para_obj","ajax_script","nonce","data_obj","removeClass","post","ajaxurl","responses","addClass","response_data","iframe_build","pprf_build_item_html","append","items_left_count","length","limit_int","parseInt","val","click","pprf_odd_even_color","items","is_repeated","trashed_css","btn_trashed_css","display_style","edit_icon_css","data","hasClass","repeated_css_append","delete_action","ids_in_css","responding_id","the_title","the_label","next_background_css","full_url","PANDA_PODS_REPEATER_PAGE_URL","PANDA_PODS_REPEATER_CONSTANTS","html_build","url","pprf_delete_item","itemid","trashed","info_text","strs_obj","be_restored","can_recover","be_deleted","passed","confirm","you_sure","exp_str","css","trim","contents","find","html","attr","hide","parent","remove","call_simpods","isFunction","on","evt","id","children","preventDefault","pprf_load_more","target_str","ele_obj","loaded_arr","Array","each","idx_int","action","loaded","security","pod_id","post_id","saved_tb","iframe_id","pod_item_id","cp_title","trashable","order","order_by","amount","start","text","response_obj","success","trashed_count","data_length","loaded_length","i","j","ids","idx","pprf_reassign","ready","$","fix_helper_modified","e","tr","$originals","$helper","clone","index","width","eq","update_index","ui","the_order","sortable","resp_arr","pprf_id","helper","cursor","opacity","tolerance","update","cancel","handle","stopPropagation","url_str","trash_ele","addEdit_str","show","iframe","getElementById","pprf_resize_window","trash","trigger","pprf_is_changed","leave","Ignore_changes"],"mappings":"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","sourcesContent":["/**\n * The JS file for the repeater field\n *\n * @package panda_pods_repeater_field\n * @author  Dongjie Xu\n */\n\n/**\n * Collection for JS functions\n *\n * @package panda_pods_repeater_field\n * @author Dongjie Xu\n * @since 09/02/2016\n */\nfunction pprf_resize_iframe(obj) {\n\tobj.style.height = obj.contentWindow.document.body.scrollHeight + 'px';\n\n}\n\nfunction pprf_update_iframe_size( x, y ){\n\n\tif ( x != '' ) {\n\t\tjQuery( '#' + x ).height( jQuery( '#' + x ).height() ).animate( {height: y}, 500 );\n\t}\n}\nfunction pprf_update_size( x ){\n\n\tif ( x != '' ) {\n\t\tvar pprf_original_height = jQuery( x + ' html #wpbody-content' ).height() + 60;\n\n\t\tjQuery( '#' + x ).height( jQuery( '#' + x ).height() ).animate( {height: pprf_original_height }, 500 );;\n\n\t}\n}\n\nfunction pprf_update_parent_iframe( x ){\n\n\tif ( x != '') {\n\n\t\tvar y = jQuery( '#' + x + ' html #wpbody-content' ).height();\n\t\t// 4px is the small gap at the bottom\n\t\tjQuery( '#' + x ).height( jQuery( '#' + x ).height() ).animate( {height: y }, 500 );\n\n\t}\n}\nvar pprf_parent_height = jQuery( 'html' ).height();\n/**\n * Insert a new row to the page after adding a new item.\n */\nfunction pprf_new( podid, postid, cpodid, authorid , iframeid, poditemid, parent_name ){\n\n\tif ( false === isNaN( podid ) && false === isNaN( cpodid ) && false === isNaN( authorid ) && false === isNaN( poditemid ) ) {\n\n\t\tvar para_obj = { 'podid': podid, 'postid': postid, 'cpodid': cpodid, 'authorid': authorid, 'poditemid' : poditemid, 'action' : 'admin_pprf_load_newly_added', 'security' : ajax_script.nonce };\n\n\t\tvar data_obj = para_obj;\n\n\t\tjQuery( '#panda-repeater-fields-' + cpodid + '-' + poditemid + '-loader' ).removeClass( 'hidden' );\n\t\tjQuery.post(\n\t\t\tajax_script.ajaxurl,\n\t\t\tdata_obj,\n\t\t\tfunction( responses ){\n\t\t\t\tjQuery( '#panda-repeater-fields-' + cpodid + '-' + poditemid + '-loader' ).addClass( 'hidden' );\n\n\t\t\t\tvar response_data = responses['data'];\n\n\t\t\t\tif ( responses['success'] === true && typeof response_data['id'] !== 'undefined' && false === isNaN( response_data['id'] ) ) {\n\n\t\t\t\t\tvar\tiframe_build = pprf_build_item_html( response_data, podid, postid, cpodid, authorid , iframeid, poditemid, parent_name, false );\n\n\t\t\t\t\tjQuery( '#panda-repeater-fields-' + cpodid + '-' + poditemid + ' .pprf-redorder-list' ).append( iframe_build );\n\t\t\t\t\t// If entries limit, toggle the add new.\n\t\t\t\t\tvar items_left_count = jQuery( '#panda-repeater-fields-' + cpodid + '-' + poditemid + ' > .pprf-redorder-list > li' ).length;\n\t\t\t\t\tvar limit_int        = parseInt( jQuery( '#panda-repeater-fields-' + cpodid + '-' + poditemid + '-entry-limit' ).val() );\n\t\t\t\t\tif ( limit_int != 0 && items_left_count >= limit_int ) {\n\t\t\t\t\t\tjQuery( '#panda-repeater-fields-' + cpodid + '-' + poditemid + '-add-new' ).addClass( 'hidden' );\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t\t// If add a new one, activeate the live items tab.\n\t\t\t\tjQuery( '#panda-repeater-fields-tabs-' + cpodid + '-' + poditemid + ' .pprf-tab .dashicons-portfolio' ).click();\n\n\t\t\t\tpprf_odd_even_color( cpodid + '-' + poditemid );\n\t\t\t}\n\t\t);\n\t}\n}\n\nfunction pprf_build_item_html( items, podid, postid, cpodid, authorid , iframeid, poditemid, parent_name, is_repeated ){\n\tif ( typeof items['id'] == 'undefined' || true === isNaN( items['id'] ) || true === isNaN( podid ) ) {\n\t\treturn '';\n\t}\n\tvar trashed_css\t\t= '';\n\tvar btn_trashed_css\t= 'pprf-btn-delete';\n\tvar display_style\t= '';\n\tvar edit_icon_css\t= 'dashicons-edit';\n\n\tif ( jQuery( '#panda-repeater-trash-info-' + cpodid + '-' + poditemid ).data( 'enable-trash' ) == 1 ) {\n\t\tif ( typeof items['trashed'] != 'undefined' && items['trashed'] == 1 ) {\n\n\t\t\ttrashed_css \t= 'pprf-trashed';\n\t\t\tbtn_trashed_css\t= 'pprf-btn-trashed';\n\t\t\t// If the portfolio foder is open, hide the trash one.\n\t\t\tedit_icon_css = 'dashicons-update ';\n\t\t\tif ( jQuery( '#panda-repeater-fields-tabs-' + cpodid + '-' + poditemid + ' .pprf-tab.active .dashicons' ).hasClass( 'dashicons-portfolio' ) ) {\n\t\t\t\tdisplay_style = 'display:none;';\n\t\t\t}\n\n\t\t} else {\n\t\t\ttrashed_css\t\t= 'pprf-not-trashed';\n\t\t\tbtn_trashed_css\t= 'pprf-btn-not-trashed';\n\t\t\tif ( jQuery( '#panda-repeater-fields-tabs-' + cpodid + '-' + poditemid + ' .pprf-tab.active .dashicons' ).hasClass( 'dashicons-trash' ) ) {\n\t\t\t\tdisplay_style = 'display:none;';\n\t\t\t}\n\t\t}\n\t}\n\tvar repeated_css_append\t= '';\n\tif ( is_repeated == true ) {\n\t\trepeated_css_append\t= '-repeated';\n\t}\n\tvar delete_action = '';\n\tvar ids_in_css    = cpodid + '-' + items['id'] + '-' + poditemid;\n\tvar responding_id = items['id'];\n\tvar the_title     = items['title'];\n\tvar the_label     = the_title;\n\n\tif ( typeof items['label'] != 'undefined' && items['label'] != '' ) {\n\t\tthe_label = items['label'];\n\t}\n\tvar next_background_css\t= jQuery( '#next-bg' ).data( 'bg' );\n\tvar full_url\t \t\t= PANDA_PODS_REPEATER_PAGE_URL[0] + 'iframe_id=panda-repeater-edit-' + ids_in_css + '&podid=' + podid + '&tb=' + cpodid + '&postid=' + postid + '&itemid=' + responding_id + '&poditemid=' + poditemid + '&pprf_nonce=' + PANDA_PODS_REPEATER_CONSTANTS.nonce;\n\tvar html_build   \t\t=\n\t'<li data-id=\"' + responding_id + '\" class=\"' + trashed_css + '\" id=\"li-' + ids_in_css + repeated_css_append + '\" style=\"' + display_style + '\">' +\n\t\t'<div class=\"pprf-row  w100 pprf-left\">' +\n\t\t\t'<div class=\"w100 pprf-left\" id=\"pprf-row-brief-' + ids_in_css + repeated_css_append + '\">' +\n\t\t\t\t'<div class=\"pprf-left pd8 pprf-left-col ' + next_background_css + ' \">' + the_label + '</div>';\n\n\tif ( is_repeated == true ) {\n\t\thtml_build +=\n\t\t'<div class=\"button pprf-right-col center pprf-dismiss-btn ' + delete_action + ' ' + btn_trashed_css + '\" role=\"button\" data-podid=\"' + podid + '\"  data-postid=\"' + postid + '\"  data-tb=\"' + cpodid + '\"  data-itemid=\"' + responding_id + '\"  data-userid=\"' + authorid + '\"  data-iframe_id=\"panda-repeater-edit-' + ids_in_css + '\"  data-poditemid=\"' + poditemid + '\" data-target=\"' + ids_in_css + '\" >' +\n\t\t\t'<span class=\"dashicons dashicons-dismiss pdt6 mgb0 \"></span>' +\n\t\t'</div>' +\n\t\t'<div class=\"pprf-left pd8\">Repeated</div>';\n\t} else {\n\t\thtml_build +=\n\t\t'<div class=\"button pprf-right-col center pprf-trash-btn ' + delete_action + ' ' + btn_trashed_css + '\" role=\"button\" data-podid=\"' + podid + '\"  data-postid=\"' + postid + '\"  data-tb=\"' + cpodid + '\"  data-itemid=\"' + responding_id + '\"  data-userid=\"' + authorid + '\"  data-iframe_id=\"panda-repeater-edit-' + ids_in_css + '\"  data-poditemid=\"' + poditemid + '\" data-target=\"' + ids_in_css + '\" >' +\n\t\t\t'<span class=\"dashicons dashicons-trash pdt6 mgb0 \"></span>' +\n\t\t\t'<div id=\"panda-repeater-trash-' + ids_in_css + '-loader\" class=\"pprf-left hidden mgl5\">' +\n\t\t\t\t'<img src = \"' + PANDA_PODS_REPEATER_CONSTANTS.url + '/images/dots-loading.gif\" alt=\"loading\" class=\"mgl8 loading pprf-left\"/>' +\n\t\t\t'</div>' +\n\t\t'</div>' +\n\t\t'<div class=\"button pprf-right-col center pprf-save-btn\" role=\"button\" data-podid=\"' + podid + '\"  data-postid=\"' + postid + '\"  data-tb=\"' + cpodid + '\"  data-itemid=\"' + responding_id + '\"  data-userid=\"' + authorid + '\"  data-iframe_id=\"panda-repeater-edit-' + ids_in_css + '\" data-poditemid=\"' + poditemid + '\" data-target=\"' + ids_in_css + '\" >' +\n\t\t\t'<img src = \"' + PANDA_PODS_REPEATER_CONSTANTS.url + 'images/save-icon-tran.png\" class=\"pprf-save-icon  mgt8 mgb2\"/>' +\n\t\t\t'<div id=\"panda-repeater-save-' + ids_in_css + '-loader\" class=\"pprf-left hidden mgl5\">' +\n\t\t\t\t'<img src = \"' + PANDA_PODS_REPEATER_CONSTANTS.url + 'images/dots-loading.gif\" alt=\"loading\" class=\"mgl8 pprf-left\"/>' +\n\t\t\t'</div>' +\n\t\t'</div>' +\n\t\t'<div class=\"button pprf-edit pprf-row-load-iframe alignright pprf-right-col center pprf-edit-btn\" role=\"button\" data-target=\"' + ids_in_css + '\" data-url=\"' + full_url + '\">' +\n\t\t\t'<span class=\"dashicons ' + edit_icon_css + ' pdt8 mgb0 pprf-edit-span\"></span>' +\n\t\t\t'<div id=\"panda-repeater-edit-' + ids_in_css + '-loader\" class=\"pprf-left hidden mgl5\">' +\n\t\t\t\t'<img src = \"' + PANDA_PODS_REPEATER_CONSTANTS.url + '/images/dots-loading.gif\" alt=\"loading\" class=\"mgl9 pprf-left\"/>' +\n\t\t\t'</div>\t' +\n\t\t'</div>';\n\t}\n\thtml_build +=\n\t\t'</div>' +\n\t\t'<div>' +\n\t\t\t'<iframe id=\"panda-repeater-edit-' + ids_in_css + '\" frameborder=\"0\" scrolling=\"no\" src=\"\" style=\"display:none; \" class=\"panda-repeater-iframe w100\"></iframe>' +\n\t\t\t'<div id=\"panda-repeater-edit-expand-' + ids_in_css + '\" class=\"w100 pprf-left center pdt3 pdb3 pprf-expand-bar pprf-edit-expand\" data-target=\"' + ids_in_css + '\"  style=\"display:none;\">Content missing? Click here to expand</div>' +\n\t\t'</div>' +\n\t\t'</div>' +\n\t'</li>';\n\tif ( next_background_css === 'pprf-purple-bg' ) {\n\t\tjQuery( '#next-bg' ).data( 'bg', 'pprf-white-bg' );\n\t} else {\n\t\tjQuery( '#next-bg' ).data( 'bg', 'pprf-purple-bg' );\n\t}\n\treturn html_build;\n}\n/**\n * Delete an item\n */\nfunction pprf_delete_item( podid, postid, cpodid, itemid, authorid , iframeid, poditemid, trashed ){\n\n\tif ( false === isNaN( podid ) && false === isNaN( cpodid ) && false === isNaN( authorid ) && false === isNaN( itemid ) && false === isNaN( poditemid )  ) {\n\n\t\tvar para_obj  = { 'podid': podid, 'postid': postid, 'cpodid': cpodid, 'itemid' : itemid, 'authorid': authorid, 'poditemid' : poditemid, 'action' : 'admin_pprf_delete_item', 'trash' : trashed, 'security' : ajax_script.nonce };\n\t\tvar info_text = '';\n\t\tif ( trashed == 0 ) {\n\t\t\tinfo_text = strs_obj.be_restored;\n\t\t}\n\t\tif ( trashed == 1 ) {\n\t\t\tinfo_text = strs_obj.can_recover;\n\t\t}\n\t\tif ( trashed == 2 ) {\n\t\t\tinfo_text = strs_obj.be_deleted;\n\t\t}\n\n\t\tvar data_obj = para_obj;\n\t\tvar passed   = confirm( strs_obj.you_sure + ' ' + info_text );\n\n\t\tif ( passed === true  ) {\n\n\t\t\tif ( trashed == 0 ) {\n\t\t\t\tjQuery( '#panda-repeater-edit-' + cpodid + '-' + itemid + '-' + poditemid + '-loader' ).removeClass( 'hidden' );\n\t\t\t} else {\n\t\t\t\tjQuery( '#panda-repeater-trash-' + cpodid + '-' + itemid + '-' + poditemid + '-loader' ).removeClass( 'hidden' );\n\t\t\t}\n\n\t\t\tjQuery.post(\n\t\t\t\tajax_script.ajaxurl,\n\t\t\t\tdata_obj,\n\t\t\t\tfunction( responses ){\n\t\t\t\t\tif ( responses['success'] === true  ) {\n\t\t\t\t\t\tvar response_data = responses['data'];\n\t\t\t\t\t\tif ( response_data.length != 0 ) {\n\t\t\t\t\t\t\tvar ids_in_css   = cpodid + '-' + itemid + '-' + poditemid;\n\t\t\t\t\t\t\tvar exp_str      = 'panda-repeater-edit-expand-' + ids_in_css;\n\t\t\t\t\t\t\tvar iframe_build = 'panda-repeater-edit-' + ids_in_css;\n\n\t\t\t\t\t\t\tif ( trashed == 0 ) {\n\t\t\t\t\t\t\t\tjQuery( '#panda-repeater-edit-' + cpodid + '-' + itemid + '-' + poditemid + '-loader' ).addClass( 'hidden' );\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tjQuery( '#panda-repeater-trash-' + cpodid + '-' + itemid + '-' + poditemid + '-loader' ).addClass( 'hidden' );\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif ( trashed == 0 ) {\n\t\t\t\t\t\t\t\tjQuery( '#panda-repeater-fields-' + cpodid + '-' + poditemid + ' .pprf-redorder-list li[data-id=\"' + itemid + '\"] .pprf-row-load-iframe .pprf-edit-span' ).removeClass( 'dashicons-update' );\n\t\t\t\t\t\t\t\tjQuery( '#panda-repeater-fields-' + cpodid + '-' + poditemid + ' .pprf-redorder-list li[data-id=\"' + itemid + '\"] .pprf-row-load-iframe .pprf-edit-span' ).addClass( 'dashicons-edit' )\n\t\t\t\t\t\t\t\tjQuery( '#panda-repeater-fields-' + cpodid + '-' + poditemid + ' .pprf-redorder-list li[data-id=\"' + itemid + '\"]' ).removeClass( 'pprf-trashed' );\n\t\t\t\t\t\t\t\tjQuery( '#panda-repeater-fields-' + cpodid + '-' + poditemid + ' .pprf-redorder-list li[data-id=\"' + itemid + '\"]' ).addClass( 'pprf-not-trashed' );\n\t\t\t\t\t\t\t\tjQuery( '#panda-repeater-fields-' + cpodid + '-' + poditemid + ' .pprf-redorder-list li[data-id=\"' + itemid + '\"]' ).css( 'display', 'none' );\n\t\t\t\t\t\t\t\tjQuery( '#panda-repeater-fields-' + cpodid + '-' + poditemid + ' .pprf-redorder-list li[data-id=\"' + itemid + '\"] .pprf-trash-btn' ).addClass( 'pprf-btn-not-trashed' );\n\t\t\t\t\t\t\t\tjQuery( '#panda-repeater-fields-' + cpodid + '-' + poditemid + ' .pprf-redorder-list li[data-id=\"' + itemid + '\"] .pprf-trash-btn' ).removeClass( 'pprf-btn-trashed' );\n\n\t\t\t\t\t\t\t\tif ( jQuery.trim( jQuery( '#' + iframe_build ).contents().find( \"body\" ).html() ) != '' ) {\n\t\t\t\t\t\t\t\t\tjQuery( '#panda-repeater-fields-' + cpodid + '-' + poditemid + ' .pprf-redorder-list li[data-id=\"' + itemid + '\"] .pprf-save-btn .pprf-save-icon' ).attr( 'src', PANDA_PODS_REPEATER_CONSTANTS.url + 'images/save-icon.png' );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif ( trashed == 1 ) {\n\n\t\t\t\t\t\t\t\tif ( jQuery( '#' + iframe_build ) != 'undefined' ) {\n\t\t\t\t\t\t\t\t\tjQuery( '#' + iframe_build ).hide();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif ( jQuery( '#' + exp_str ) != 'undefined' ) {\n\t\t\t\t\t\t\t\t\tjQuery( '#' + exp_str ).hide();\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tjQuery( '#pprf-row-brief-' + ids_in_css + ' .dashicons' ).removeClass( 'dashicons-arrow-up' );\n\t\t\t\t\t\t\t\tjQuery( '#pprf-row-brief-' + ids_in_css + ' .dashicons' ).addClass( 'dashicons-edit' );\n\n\t\t\t\t\t\t\t\tjQuery( '#panda-repeater-fields-' + cpodid + '-' + poditemid + ' .pprf-redorder-list li[data-id=\"' + itemid + '\"]' ).removeClass( 'pprf-not-trashed' );\n\t\t\t\t\t\t\t\tjQuery( '#panda-repeater-fields-' + cpodid + '-' + poditemid + ' .pprf-redorder-list li[data-id=\"' + itemid + '\"]' ).addClass( 'pprf-trashed' );\n\t\t\t\t\t\t\t\tjQuery( '#panda-repeater-fields-' + cpodid + '-' + poditemid + ' .pprf-redorder-list li[data-id=\"' + itemid + '\"]' ).css( 'display', 'none' );\n\t\t\t\t\t\t\t\tjQuery( '#panda-repeater-fields-' + cpodid + '-' + poditemid + ' .pprf-redorder-list li[data-id=\"' + itemid + '\"] .pprf-row-load-iframe .pprf-edit-span' ).addClass( 'dashicons-update' );\n\t\t\t\t\t\t\t\tjQuery( '#panda-repeater-fields-' + cpodid + '-' + poditemid + ' .pprf-redorder-list li[data-id=\"' + itemid + '\"] .pprf-row-load-iframe .pprf-edit-span' ).removeClass( 'dashicons-edit' );\n\t\t\t\t\t\t\t\tjQuery( '#panda-repeater-fields-' + cpodid + '-' + poditemid + ' .pprf-redorder-list li[data-id=\"' + itemid + '\"] .pprf-trash-btn' ).addClass( 'pprf-btn-trashed' );\n\t\t\t\t\t\t\t\tjQuery( '#panda-repeater-fields-' + cpodid + '-' + poditemid + ' .pprf-redorder-list li[data-id=\"' + itemid + '\"] .pprf-trash-btn' ).removeClass( 'pprf-btn-not-trashed' );\n\t\t\t\t\t\t\t\tjQuery( '#panda-repeater-fields-' + cpodid + '-' + poditemid + ' .pprf-redorder-list li[data-id=\"' + itemid + '\"] .pprf-save-btn .pprf-save-icon' ).attr( 'src', PANDA_PODS_REPEATER_CONSTANTS.url + 'images/save-icon-tran.png' );\n\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif ( trashed == 2 ) {\n\t\t\t\t\t\t\t\tjQuery( '#panda-repeater-fields-' + cpodid + '-' + poditemid + ' #' + iframeid ).parent().parent().remove();\n\t\t\t\t\t\t\t\tjQuery( '#panda-repeater-fields-' + cpodid + '-' + poditemid + ' .pprf-redorder-list li[data-id=\"' + itemid + '\"]' ).remove();\n\t\t\t\t\t\t\t\t// If entries limit, toggle the add new.\n\t\t\t\t\t\t\t\tvar items_left_count = jQuery( '#panda-repeater-fields-' + cpodid + '-' + poditemid + ' > .pprf-redorder-list > li' ).length;\n\t\t\t\t\t\t\t\tvar limit_int        = parseInt( jQuery( '#panda-repeater-fields-' + cpodid + '-' + poditemid + '-entry-limit' ).val() );\n\t\t\t\t\t\t\t\tif ( limit_int != 0 && items_left_count < limit_int ) {\n\t\t\t\t\t\t\t\t\tjQuery( '#panda-repeater-fields-' + cpodid + '-' + poditemid + '-add-new' ).removeClass( 'hidden' );\n\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t// Integrate with simpods js.\n\t\t\t\t\t\t\t\tif ( typeof call_simpods !== 'undefined' && jQuery.isFunction( call_simpods ) ) {\n\t\t\t\t\t\t\t\t\tcall_simpods( responses );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tpprf_odd_even_color( cpodid + '-' + poditemid );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t);\n\n\t\t}\n\t}\n}\n\njQuery( document ).on(\n\t'click',\n\t'.pprf-redorder-btn',\n\tfunction( evt ){\n\t\tvar id = jQuery( this ).data( 'id' );\n\t\tjQuery( this ).addClass( 'hidden' );\n\t\tjQuery( this ).parent().children( '.pprf-save-redorder-btn' ).removeClass( 'hidden' );\n\t\tjQuery( this ).parent().children( '.pprf-redorder-list-wrap' ).removeClass( 'hidden' );\n\t\tjQuery( this ).parent().children( '.pprf-row' ).addClass( 'hidden' );\n\t\tjQuery( '#' + id + '-add-new' ).addClass( 'hidden' );\n\t}\n);\n\n\njQuery( document ).on(\n\t'click',\n\t'.pprf-save-redorder-btn',\n\tfunction( evt ){\n\t\tvar id = jQuery( this ).data( 'id' );\n\t\tjQuery( this ).addClass( 'hidden' );\n\t\tjQuery( this ).parent().children( '.pprf-redorder-list-wrap' ).addClass( 'hidden' );\n\t\tjQuery( this ).parent().children( '.pprf-save-redorder-btn' ).addClass( 'hidden' );\n\t\tjQuery( this ).parent().children( '.pprf-redorder-btn' ).removeClass( 'hidden' );\n\t\tjQuery( this ).parent().children( '.pprf-row' ).removeClass( 'hidden' );\n\t\tjQuery( '#' + id + '-add-new' ).removeClass( 'hidden' );\n\t}\n);\n/**\n * Load more.\n */\njQuery( document ).on(\n\t'click',\n\t'.pprf-load-more-btn',\n\tfunction( evt ){\n\t\tevt.preventDefault();\n\t\tjQuery( '#pprf-load-more-wrap-' + jQuery( this ).data( 'target' ) + ' .pprf-ajax-img' ).css( 'display', 'block' );\n\n\t\tpprf_load_more( jQuery( this ).data( 'target' ), jQuery( this ) );\n\n\t}\n)\n\nfunction pprf_load_more( target_str, ele_obj ){\n\tvar loaded_arr = new Array();\n\tjQuery( '#panda-repeater-fields-' + target_str + ' .pprf-redorder-list li' ).each(\n\t\tfunction( idx_int ) {\n\t\t\tloaded_arr[ idx_int ] = parseInt( jQuery( this ).data( 'id' ) );\n\t\t}\n\t);\n\n\tvar data_obj = {\n\t\taction \t\t: \t'admin_pprf_load_more',\n\t\tloaded \t\t:\tloaded_arr,\n\t\tsecurity \t: \tajax_script.nonce,\n\t\tpod_id\t\t: \tele_obj.data( 'podid' ),\n\t\tpost_id\t\t: \tele_obj.data( 'postid' ),\n\t\tsaved_tb\t: \tele_obj.data( 'tb' ),\n\t\tiframe_id \t: \tele_obj.data( 'iframe_id' ),\n\t\tpod_item_id\t: \tele_obj.data( 'poditemid' ),\n\t\tauthorid\t: \tele_obj.data( 'userid' ),\n\t\tcp_title\t: \tele_obj.data( 'cptitle' ),\n\t\ttrashable\t: \tele_obj.data( 'enable-trash' ),\n\t\torder\t\t: \tele_obj.data( 'order' ),\n\t\torder_by\t: \tele_obj.data( 'order-by' ),\n\t\tamount\t\t: \tjQuery( '#panda-repeater-amount-' + target_str ).val(),\n\t\tstart\t\t: \tjQuery( '#panda-repeater-start-from-' + target_str ).val()\n\t};\n\tjQuery( '#pprf-load-more-wrap-' + target_str + ' .pprf-load-more-report' ).text( '' );\n\tjQuery.post(\n\t\tajax_script.ajaxurl,\n\t\tdata_obj,\n\t\tfunction( response_obj ){\n\t\t\tvar html_build = '';\n\t\t\tif ( response_obj.success == true ) {\n\t\t\t\tvar trashed_count = 0;\n\t\t\t\tvar data_length   = response_obj.data.length;\n\t\t\t\tvar loaded_length = loaded_arr.length;\n\t\t\t\tfor ( var i = 0; i < data_length; i ++ ) {\n\t\t\t\t\tvar is_repeated\t= false;\n\n\t\t\t\t\tif ( jQuery( '#pprf-load-more-wrap-' + target_str + ' .panda-repeater-to-load' ).val() === 'append_to' ) { // Only need to check repeatition if it is on Append To.\n\t\t\t\t\t\tfor ( var j = 0; j < loaded_length; j ++ ) {\t// InArry doesn't work.\n\t\t\t\t\t\t\tif ( parseInt( response_obj.data[ i ]['id'] ) == loaded_arr[ j ] ) {\n\t\t\t\t\t\t\t\tis_repeated\t= true;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\thtml_build += pprf_build_item_html( response_obj.data[ i ], data_obj.pod_id, data_obj.post_id, data_obj.saved_tb, data_obj.authorid , data_obj.iframe_id, data_obj.pod_item_id, data_obj.cp_title, is_repeated )\n\t\t\t\t\tif ( response_obj.data[ i ]['trashed'] == 1 ) {\n\t\t\t\t\t\ttrashed_count ++;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tvar info_text = response_obj.data.length;\n\t\t\t\tif ( data_obj.trashable == 1 ) {\n\t\t\t\t\tinfo_text = ( parseInt( response_obj.data.length ) - trashed_count ) + ' published, ' + trashed_count + ' trashed.';\n\t\t\t\t}\n\t\t\t\tif ( jQuery( '#pprf-load-more-wrap-' + target_str + ' .panda-repeater-to-load' ).val() == 'append_to' ) {\n\t\t\t\t\tjQuery( '#panda-repeater-fields-' + data_obj.saved_tb + '-' + data_obj.pod_item_id + ' .pprf-redorder-list' ).append( html_build );\n\t\t\t\t} else {\n\t\t\t\t\tjQuery( '#panda-repeater-fields-' + data_obj.saved_tb + '-' + data_obj.pod_item_id + ' .pprf-redorder-list' ).html( html_build );\n\t\t\t\t}\n\t\t\t\tpprf_odd_even_color( data_obj.saved_tb + '-' + data_obj.pod_item_id );\n\t\t\t\tjQuery( '#pprf-load-more-wrap-' + target_str + ' .pprf-ajax-img' ).css( 'display', 'none' );\n\n\t\t\t\tif ( response_obj.data.length != 0 ) {\n\t\t\t\t\tjQuery( '#panda-repeater-start-from-' + target_str ).val( parseInt( data_obj.start ) + parseInt( response_obj.data.length ) );\n\t\t\t\t}\n\n\t\t\t\tjQuery( '#pprf-load-more-wrap-' + target_str + ' .pprf-load-more-report' ).text( ' | Loaded ' + info_text );\n\t\t\t}\n\n\t\t}\n\t);\n}\n/**\n * Reset colours for each row.\n */\nfunction pprf_odd_even_color( ids ){\n\n\tjQuery( '#panda-repeater-fields-' + ids + ' .pprf-left-col' ).removeClass( 'pprf-purple-bg' );\n\tjQuery( '#panda-repeater-fields-' + ids + ' .pprf-left-col' ).removeClass( 'pprf-white-bg' );\n\n\tif ( jQuery( '#panda-repeater-fields-tabs-' + ids ).length == 0 ) {\n\n\t\tjQuery( '#panda-repeater-fields-' + ids + ' .pprf-left-col' ).each(\n\t\t\tfunction( idx ) {\n\t\t\t\tif ( idx % 2 == 0 ) {\n\t\t\t\t\tjQuery( this ).addClass( 'pprf-white-bg' );\n\t\t\t\t} else {\n\t\t\t\t\tjQuery( this ).addClass( 'pprf-purple-bg' );\n\t\t\t\t}\n\t\t\t}\n\t\t)\n\t}\n\tjQuery( '#panda-repeater-fields-' + ids + ' .pprf-not-trashed' ).each(\n\t\tfunction( idx ) {\n\t\t\tif ( idx % 2 == 0 ) {\n\t\t\t\tjQuery( this ).children( '.pprf-row' ).children().children( '.pprf-left-col' ).addClass( 'pprf-white-bg' );\n\t\t\t} else {\n\t\t\t\tjQuery( this ).children( '.pprf-row' ).children().children( '.pprf-left-col' ).addClass( 'pprf-purple-bg' );\n\t\t\t}\n\t\t}\n\t);\n\tjQuery( '#panda-repeater-fields-' + ids + ' .pprf-trashed' ).each(\n\t\tfunction( idx ) {\n\t\t\tif ( idx % 2 == 0 ) {\n\t\t\t\tjQuery( this ).children( '.pprf-row' ).children().children( '.pprf-left-col' ).addClass( 'pprf-white-bg' );\n\t\t\t} else {\n\t\t\t\tjQuery( this ).children( '.pprf-row' ).children().children( '.pprf-left-col' ).addClass( 'pprf-purple-bg' );\n\t\t\t}\n\t\t}\n\t);\n}\n/**\n * If reassigned successfully, remove the item and reset colours.\n */\nfunction pprf_reassign( cpodid, poditemid, itemid ){\n\n\tjQuery( '#panda-repeater-fields-' + cpodid + '-' + poditemid + ' .pprf-redorder-list li[data-id=\"' + itemid + '\"]' ).remove();\n\n\tpprf_odd_even_color( cpodid + '-' + poditemid );\n}\njQuery( document ).ready(\n\tfunction($) {\n\t\t/**\n\t\t * Fix_helper_modified for drag and drop.\n\t\t */\n\t\tvar fix_helper_modified = function(e, tr) {\n\t\t\t\tvar $originals = tr.children();\n\t\t\t\tvar $helper    = tr.clone();\n\t\t\t$helper.children().each(\n\t\t\t\tfunction(index) {\n\t\t\t\t\t$( this ).width( $originals.eq( index ).width() );\n\t\t\t\t}\n\t\t\t);\n\n\t\t\treturn $helper;\n\t\t},\n\t\tupdate_index            = function(e, ui) {\n\t\t\t\tvar the_order = $( this ).sortable( 'toArray' );\n\n\t\t\t\tvar data_obj = {\n\t\t\t\t\taction:   'admin_pprf_update_order',\n\t\t\t\t\torder: \t  the_order,\n\t\t\t\t\tsecurity : ajax_script.nonce\n\t\t\t};\n\n\t\t\t$.post(\n\t\t\t\tajax_script.ajaxurl,\n\t\t\t\tdata_obj,\n\t\t\t\tfunction( resp_arr ){\n\t\t\t\t\tpprf_odd_even_color( resp_arr.data.pprf_id );\n\t\t\t\t}\n\t\t\t)\n\t\t};\n\n\t\tif ( $( '.pprf-redorder-list.pandarf_order' ).length != 0 ) {\n\t\t\t$( '.pprf-redorder-list.pandarf_order' ).sortable(\n\t\t\t\t{\n\t\t\t\t\thelper: fix_helper_modified,\n\t\t\t\t\tcursor:         'move',\n\t\t\t\t\topacity:        0.7,\n\t\t\t\t\ttolerance:      'intersect',\n\t\t\t\t\tupdate: \t\tupdate_index,\n\t\t\t\t\tcancel: \t\t'.pprf-row-load-iframe, .pprf-save-btn, pprf-trash-btn',\n\t\t\t\t\thandle: \t\t'.pprf-left-col'\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\n\t\t$( document.body ).on(\n\t\t\t'click',\n\t\t\t'.pprf-row-load-iframe',\n\t\t\tfunction( e ){\n\t\t\t\te.stopPropagation();\n\t\t\t\tvar url_str      = $( this ).data( 'url' );\n\t\t\t\tvar ids_in_css   = $( this ).data( 'target' );\n\t\t\t\tvar exp_str      = 'panda-repeater-edit-expand-' + ids_in_css;\n\t\t\t\tvar iframe_build = 'panda-repeater-edit-' + ids_in_css;\n\t\t\t\tvar trash_ele    = $( this ).parent().children( '.pprf-trash-btn' );\n\t\t\t\tif ( $( this ).children( '.pprf-edit-span' ).hasClass( 'dashicons-update' ) ) {\n\t\t\t\t\t// Restore this item.\n\t\t\t\t\tpprf_delete_item( trash_ele.data( 'podid' ), trash_ele.data( 'postid' ), trash_ele.data( 'tb' ), trash_ele.data( 'itemid' ), trash_ele.data( 'userid' ), trash_ele.data( 'iframe_id' ), trash_ele.data( 'poditemid' ), 0 );\n\t\t\t\t} else {\n\t\t\t\t\t\tvar addEdit_str = ' .pprf-edit';\n\t\t\t\t\tif ( $( this ).hasClass( 'pprf-add' ) ) {\n\t\t\t\t\t\taddEdit_str  = '.pprf-add';\n\t\t\t\t\t\tiframe_build = 'panda-repeater-add-new-' + ids_in_css;\n\t\t\t\t\t\texp_str      = 'panda-repeater-add-new-expand-' + ids_in_css;\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( $( '#pprf-row-brief-' + ids_in_css + ' .dashicons' ).hasClass( 'dashicons-edit' ) ) {\n\n\t\t\t\t\t\t// If iframe not loaded.\n\n\t\t\t\t\t\tif ( $( '#' + iframe_build ).attr( 'src' ) == '' ) {\n\t\t\t\t\t\t\t$( '#' + iframe_build ).attr( 'src', url_str );\n\t\t\t\t\t\t\t$( '#' + iframe_build + '-loader' ).removeClass( 'hidden' );\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t$( '#' + iframe_build ).show(\n\t\t\t\t\t\t\t'slow',\n\t\t\t\t\t\t\tfunction(){\n\t\t\t\t\t\t\t\t$( '#pprf-row-brief-' + ids_in_css + '' + addEdit_str + ' .dashicons' ).addClass( 'dashicons-arrow-up' );\n\t\t\t\t\t\t\t\t$( '#pprf-row-brief-' + ids_in_css + '' + addEdit_str + ' .dashicons' ).removeClass( 'dashicons-edit' );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t);\n\t\t\t\t\t\t$( '#' + exp_str ).show();\n\t\t\t\t\t\t$( '#' + iframe_build ).on(\n\t\t\t\t\t\t\t'load',\n\t\t\t\t\t\t\tfunction(){\n\t\t\t\t\t\t\t\t$( '#' + iframe_build + '-loader' ).addClass( 'hidden' );\n\t\t\t\t\t\t\t\t// Change icon.\n\t\t\t\t\t\t\t\t$( '#panda-repeater-save-' + ids_in_css + '-loader' ).parent().children( '.pprf-save-icon' ).attr( 'src', PANDA_PODS_REPEATER_CONSTANTS.url + '/images/save-icon.png' );\n\t\t\t\t\t\t\t\t$( '#panda-repeater-save-' + ids_in_css + '-loader' ).parent().addClass( 'pprf-btn-ready' );\n\t\t\t\t\t\t\t\t$( '#panda-repeater-save-' + ids_in_css + '-loader' ).addClass( 'hidden' );\n\t\t\t\t\t\t\t\t$( '#pprf-row-brief-' + ids_in_css + addEdit_str + ' .dashicons' ).addClass( 'dashicons-arrow-up' );\n\t\t\t\t\t\t\t\t$( '#pprf-row-brief-' + ids_in_css + addEdit_str + ' .dashicons' ).removeClass( 'dashicons-edit' );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t);\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t$( '#' + iframe_build ).hide(\n\t\t\t\t\t\t\t'slow',\n\t\t\t\t\t\t\tfunction(){\n\t\t\t\t\t\t\t\t$( '#pprf-row-brief-' + ids_in_css + addEdit_str + ' .dashicons' ).removeClass( 'dashicons-arrow-up' );\n\t\t\t\t\t\t\t\t$( '#pprf-row-brief-' + ids_in_css + addEdit_str + ' .dashicons' ).addClass( 'dashicons-edit' );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t);\n\t\t\t\t\t\t$( '#' + exp_str ).hide();\n\n\t\t\t\t\t}\n\t\t\t\t\t$( '#pprf-row-brief-' + ids_in_css + ' .dashicons-trash' ).removeClass( 'dashicons-arrow-up' );\n\t\t\t\t}\n\n\t\t\t}\n\t\t);\n\t\t/**\n\t\t * Click to explan its iframe.\n\t\t */\n\t\t$( document.body ).on(\n\t\t\t'click',\n\t\t\t'.pprf-expand-bar',\n\t\t\tfunction(){\n\t\t\t\tvar ids    = $( this ).data( 'target' );\n\t\t\t\tvar iframe = 'panda-repeater-edit-' + ids;\n\t\t\t\tif ( $( this ).hasClass( 'pprf-add-expand' ) ) {\n\t\t\t\t\tiframe = 'panda-repeater-add-new-' + ids;\n\t\t\t\t}\n\t\t\t\tif ( typeof document.getElementById( iframe ) != 'undefined' ) {\n\t\t\t\t\tif ( typeof document.getElementById( iframe ).contentWindow.pprf_resize_window != 'undefined' ) {\n\t\t\t\t\t\tdocument.getElementById( iframe ).contentWindow.pprf_resize_window();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\t\t/**\n\t\t * Click to delete.\n\t\t */\n\t\t$( document.body ).on(\n\t\t\t'click',\n\t\t\t'.pprf-trash-btn',\n\t\t\tfunction( e ){\n\t\t\t\te.stopPropagation();\n\t\t\t\tvar ids    = $( this ).data( 'target' );\n\t\t\t\tvar iframe = 'panda-repeater-edit-' + ids;\n\t\t\t\tif ( $( this ).hasClass( 'pprf-add-expand' ) ) {\n\t\t\t\t\tiframe = 'panda-repeater-add-new-' + ids;\n\t\t\t\t}\n\t\t\t\tvar trash = 0;\n\t\t\t\tif ( $( this ).hasClass( 'pprf-btn-not-trashed' ) ) {\n\t\t\t\t\ttrash = 1;\n\t\t\t\t}\n\t\t\t\tif ( $( this ).hasClass( 'pprf-btn-trashed' ) ) {\n\t\t\t\t\ttrash = 2;\n\t\t\t\t}\n\t\t\t\tif ( $( this ).hasClass( 'pprf-btn-delete' ) ) {\n\t\t\t\t\ttrash = 2;\n\t\t\t\t}\n\t\t\t\tpprf_delete_item( $( this ).data( 'podid' ), $( this ).data( 'postid' ), $( this ).data( 'tb' ), $( this ).data( 'itemid' ), $( this ).data( 'userid' ), $( this ).data( 'iframe_id' ), $( this ).data( 'poditemid' ), trash );\n\t\t\t}\n\t\t)\n\n\t\t$( document.body ).on(\n\t\t\t'click',\n\t\t\t'.pprf-save-btn',\n\t\t\tfunction( e ){\n\t\t\t\te.stopPropagation();\n\t\t\t\tif ( $( this ).hasClass( 'pprf-btn-ready' ) ) {\n\t\t\t\t\tvar ids    = $( this ).data( 'target' );\n\t\t\t\t\tvar iframe = 'panda-repeater-edit-' + ids;\n\t\t\t\t\tif ( $( this ).hasClass( 'pprf-save-new-btn' ) ) {\n\t\t\t\t\t\tiframe = 'panda-repeater-add-new-' + ids;\n\t\t\t\t\t}\n\t\t\t\t\t$( '#panda-repeater-save-' + ids + '-loader' ).removeClass( 'hidden' );\n\n\t\t\t\t\t$( '#' + iframe ).contents().find( '.pods-submit-button' ).trigger( \"click\" );\n\t\t\t\t\tpprf_is_changed = false;\n\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\t\t/**\n\t\t * If a pods is is clicked, flag it as saved.\n\t\t */\n\t\t$( '.toplevel_page_panda-pods-repeater-field .pods-field-input' ).on(\n\t\t\t'click keyup change',\n\t\t\tfunction(){\n\t\t\t\tpprf_is_changed = true;\n\t\t\t}\n\t\t);\n\n\t\t$( document ).on(\n\t\t\t'click',\n\t\t\t'#publishing-action .button, #save-action .button',\n\t\t\tfunction(){\n\t\t\t\tif ( pprf_is_changed ) {\n\t\t\t\t\t\tevt.preventDefault();\n\t\t\t\t\t\tvar leave = confirm( strs_obj.Ignore_changes );\n\t\t\t\t\tif ( leave == true) {\n\t\t\t\t\t\tpprf_is_changed = false;\n\n\t\t\t\t\t\t$( this ).trigger( 'click' );\n\t\t\t\t\t}\n\t\t\t\t\tif ( leave == false) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\n\t\t/**\n\t\t * Toggle trashed and current.\n\t\t */\n\t\t$( document.body ).on(\n\t\t\t'click',\n\t\t\t'.pprf-tab .dashicons-trash',\n\t\t\tfunction(){\n\n\t\t\t\t$( '#panda-repeater-fields-' + $( this ).parent().data( 'target' ) + ' .pprf-trashed' ).css( 'display', 'block' );\n\t\t\t\t$( '#panda-repeater-fields-' + $( this ).parent().data( 'target' ) + ' .pprf-not-trashed' ).css( 'display', 'none' );\n\t\t\t\t$( this ).parent().parent().children( '.active' ).removeClass( 'active' );\n\t\t\t\t$( this ).parent().addClass( 'active' );\n\t\t\t\tpprf_odd_even_color( $( this ).parent().data( 'target' ) );\n\n\t\t\t}\n\t\t)\n\t\t$( document.body ).on(\n\t\t\t'click',\n\t\t\t'.pprf-tab .dashicons-portfolio',\n\t\t\tfunction(){\n\t\t\t\t$( '#panda-repeater-fields-' + $( this ).parent().data( 'target' ) + ' .pprf-trashed' ).css( 'display', 'none' );\n\t\t\t\t$( '#panda-repeater-fields-' + $( this ).parent().data( 'target' ) + ' .pprf-not-trashed' ).css( 'display', 'block' );\n\t\t\t\t$( this ).parent().parent().children( '.active' ).removeClass( 'active' );\n\t\t\t\t$( this ).parent().addClass( 'active' );\n\t\t\t\tpprf_odd_even_color( $( this ).parent().data( 'target' ) );\n\t\t\t}\n\t\t)\n\n\t\t/**\n\t\t * Remove repeated.\n\t\t */\n\t\t$( document.body ).on(\n\t\t\t'click',\n\t\t\t'.pprf-dismiss-btn',\n\t\t\tfunction(){\n\t\t\t\t$( '#li-' + $( this ).data( 'target' ) + '-repeated' ).remove();\n\t\t\t}\n\t\t)\n\t}\n);\n\nvar pprf_is_changed\t= false;\n"],"file":"admin.js"}