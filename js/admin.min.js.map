{"version":3,"sources":["admin.js"],"names":["pprf_resize_iframe","obj","style","height","contentWindow","document","body","scrollHeight","pprf_update_iframe_size","x","y","jQuery","animate","pprf_update_size","pprf_original_height","pprf_update_parent_iframe","pprf_parent_height","pprf_new","podid","postid","cpodid","authorid","iframeid","poditemid","parent_name","data_obj","isNaN","action","security","ajax_script","nonce","removeClass","post","ajaxurl","responses","para_obj","response_data","iframe_build","pprf_build_item_html","append","length","items_left_count","limit_int","parseInt","val","addClass","click","pprf_odd_even_color","items","is_repeated","trashed_css","btn_trashed_css","display_style","edit_icon_css","data","hasClass","repeated_css_append","ids_in_css","the_label","responding_id","next_background_css","full_url","PANDA_PODS_REPEATER_PAGE_URL","PANDA_PODS_REPEATER_CONSTANTS","html_build","url","pprf_delete_item","itemid","info_text","trashed","strs_obj","be_deleted","trash","confirm","be_restored","can_recover","exp_str","contents","html","hide","css","trim","find","attr","parent","remove","call_simpods","isFunction","children","pprf_load_more","target_str","ele_obj","loaded_arr","i","each","idx_int","loaded","pod_id","post_id","saved_tb","pod_item_id","response_obj","trashed_count","trashable","order","order_by","amount","start","text","success","data_length","j","loaded_length","iframe_id","cp_title","ids","pprf_reassign","idx","this","ready","$originals","$helper","$","width","the_order","resp_arr","cursor","tolerance","cancel","on","evt","id","preventDefault","sortable","helper","e","tr","clone","trash_ele","eq","index","pprf_id","handle","addEdit_str","url_str","iframe","pprf_resize_window","stopPropagation","show","pprf_is_changed","getElementById","Ignore_changes","trigger","leave"],"mappings":"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","file":"admin.min.js","sourcesContent":["/**\r\n * The JS file for the repeater field\r\n *\r\n * @package panda_pods_repeater_field\r\n * @author  Dongjie Xu\r\n */\r\n\r\n/**\r\n * Collection for JS functions\r\n *\r\n * @package panda_pods_repeater_field\r\n * @author Dongjie Xu\r\n * @since 09/02/2016\r\n */\r\nfunction pprf_resize_iframe(obj) {\r\n\tobj.style.height = obj.contentWindow.document.body.scrollHeight + 'px';\r\n\r\n}\r\n\r\nfunction pprf_update_iframe_size( x, y ){\r\n\r\n\tif ( x != '' ) {\r\n\t\tjQuery( '#' + x ).height( jQuery( '#' + x ).height() ).animate( {height: y}, 500 );\r\n\t}\r\n}\r\nfunction pprf_update_size( x ){\r\n\r\n\tif ( x != '' ) {\r\n\t\tvar pprf_original_height = jQuery( x + ' html #wpbody-content' ).height() + 60;\r\n\r\n\t\tjQuery( '#' + x ).height( jQuery( '#' + x ).height() ).animate( {height: pprf_original_height }, 500 );;\r\n\r\n\t}\r\n}\r\n\r\nfunction pprf_update_parent_iframe( x ){\r\n\r\n\tif ( x != '') {\r\n\r\n\t\tvar y = jQuery( '#' + x + ' html #wpbody-content' ).height();\r\n\t\t// 4px is the small gap at the bottom\r\n\t\tjQuery( '#' + x ).height( jQuery( '#' + x ).height() ).animate( {height: y }, 500 );\r\n\r\n\t}\r\n}\r\nvar pprf_parent_height = jQuery( 'html' ).height();\r\n/**\r\n * Insert a new row to the page after adding a new item.\r\n */\r\nfunction pprf_new( podid, postid, cpodid, authorid , iframeid, poditemid, parent_name ){\r\n\r\n\tif ( false === isNaN( podid ) && false === isNaN( cpodid ) && false === isNaN( authorid ) && false === isNaN( poditemid ) ) {\r\n\r\n\t\tvar para_obj = { 'podid': podid, 'postid': postid, 'cpodid': cpodid, 'authorid': authorid, 'poditemid' : poditemid, 'action' : 'admin_pprf_load_newly_added', 'security' : ajax_script.nonce };\r\n\r\n\t\tvar data_obj = para_obj;\r\n\r\n\t\tjQuery( '#panda-repeater-fields-' + cpodid + '-' + poditemid + '-loader' ).removeClass( 'hidden' );\r\n\t\tjQuery.post(\r\n\t\t\tajax_script.ajaxurl,\r\n\t\t\tdata_obj,\r\n\t\t\tfunction( responses ){\r\n\t\t\t\tjQuery( '#panda-repeater-fields-' + cpodid + '-' + poditemid + '-loader' ).addClass( 'hidden' );\r\n\r\n\t\t\t\tvar response_data = responses['data'];\r\n\r\n\t\t\t\tif ( responses['success'] === true && typeof response_data['id'] !== 'undefined' && false === isNaN( response_data['id'] ) ) {\r\n\r\n\t\t\t\t\tvar\tiframe_build = pprf_build_item_html( response_data, podid, postid, cpodid, authorid , iframeid, poditemid, parent_name, false );\r\n\r\n\t\t\t\t\tjQuery( '#panda-repeater-fields-' + cpodid + '-' + poditemid + ' .pprf-redorder-list' ).append( iframe_build );\r\n\t\t\t\t\t// If entries limit, toggle the add new.\r\n\t\t\t\t\tvar items_left_count = jQuery( '#panda-repeater-fields-' + cpodid + '-' + poditemid + ' > .pprf-redorder-list > li' ).length;\r\n\t\t\t\t\tvar limit_int        = parseInt( jQuery( '#panda-repeater-fields-' + cpodid + '-' + poditemid + '-entry-limit' ).val() );\r\n\t\t\t\t\tif ( limit_int != 0 && items_left_count >= limit_int ) {\r\n\t\t\t\t\t\tjQuery( '#panda-repeater-fields-' + cpodid + '-' + poditemid + '-add-new' ).addClass( 'hidden' );\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\t\t\t\t// If add a new one, activeate the live items tab.\r\n\t\t\t\tjQuery( '#panda-repeater-fields-tabs-' + cpodid + '-' + poditemid + ' .pprf-tab .dashicons-portfolio' ).click();\r\n\r\n\t\t\t\tpprf_odd_even_color( cpodid + '-' + poditemid );\r\n\t\t\t}\r\n\t\t);\r\n\t}\r\n}\r\n\r\nfunction pprf_build_item_html( items, podid, postid, cpodid, authorid , iframeid, poditemid, parent_name, is_repeated ){\r\n\tif ( typeof items['id'] == 'undefined' || true === isNaN( items['id'] ) || true === isNaN( podid ) ) {\r\n\t\treturn '';\r\n\t}\r\n\tvar trashed_css\t\t= '';\r\n\tvar btn_trashed_css\t= 'pprf-btn-delete';\r\n\tvar display_style\t= '';\r\n\tvar edit_icon_css\t= 'dashicons-edit';\r\n\r\n\tif ( jQuery( '#panda-repeater-trash-info-' + cpodid + '-' + poditemid ).data( 'enable-trash' ) == 1 ) {\r\n\t\tif ( typeof items['trashed'] != 'undefined' && items['trashed'] == 1 ) {\r\n\r\n\t\t\ttrashed_css \t= 'pprf-trashed';\r\n\t\t\tbtn_trashed_css\t= 'pprf-btn-trashed';\r\n\t\t\t// If the portfolio foder is open, hide the trash one.\r\n\t\t\tedit_icon_css = 'dashicons-update ';\r\n\t\t\tif ( jQuery( '#panda-repeater-fields-tabs-' + cpodid + '-' + poditemid + ' .pprf-tab.active .dashicons' ).hasClass( 'dashicons-portfolio' ) ) {\r\n\t\t\t\tdisplay_style = 'display:none;';\r\n\t\t\t}\r\n\r\n\t\t} else {\r\n\t\t\ttrashed_css\t\t= 'pprf-not-trashed';\r\n\t\t\tbtn_trashed_css\t= 'pprf-btn-not-trashed';\r\n\t\t\tif ( jQuery( '#panda-repeater-fields-tabs-' + cpodid + '-' + poditemid + ' .pprf-tab.active .dashicons' ).hasClass( 'dashicons-trash' ) ) {\r\n\t\t\t\tdisplay_style = 'display:none;';\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tvar repeated_css_append\t= '';\r\n\tif ( is_repeated == true ) {\r\n\t\trepeated_css_append\t= '-repeated';\r\n\t}\r\n\tvar delete_action = '';\r\n\tvar ids_in_css    = cpodid + '-' + items['id'] + '-' + poditemid;\r\n\tvar responding_id = items['id'];\r\n\tvar the_title     = items['title'];\r\n\tvar the_label     = the_title;\r\n\r\n\tif ( typeof items['label'] != 'undefined' && items['label'] != '' ) {\r\n\t\tthe_label = items['label'];\r\n\t}\r\n\tvar next_background_css\t= jQuery( '#next-bg' ).data( 'bg' );\r\n\tvar full_url\t \t\t= PANDA_PODS_REPEATER_PAGE_URL[0] + 'iframe_id=panda-repeater-edit-' + ids_in_css + '&podid=' + podid + '&tb=' + cpodid + '&postid=' + postid + '&itemid=' + responding_id + '&poditemid=' + poditemid + '&pprf_nonce=' + PANDA_PODS_REPEATER_CONSTANTS.nonce;\r\n\tvar html_build   \t\t=\r\n\t'<li data-id=\"' + responding_id + '\" class=\"' + trashed_css + '\" id=\"li-' + ids_in_css + repeated_css_append + '\" style=\"' + display_style + '\">' +\r\n\t\t'<div class=\"pprf-row  w100 pprf-left\">' +\r\n\t\t\t'<div class=\"w100 pprf-left\" id=\"pprf-row-brief-' + ids_in_css + repeated_css_append + '\">' +\r\n\t\t\t\t'<div class=\"pprf-left pd8 pprf-left-col ' + next_background_css + ' \">' + the_label + '</div>';\r\n\r\n\tif ( is_repeated == true ) {\r\n\t\thtml_build +=\r\n\t\t'<div class=\"button pprf-right-col center pprf-dismiss-btn ' + delete_action + ' ' + btn_trashed_css + '\" role=\"button\" data-podid=\"' + podid + '\"  data-postid=\"' + postid + '\"  data-tb=\"' + cpodid + '\"  data-itemid=\"' + responding_id + '\"  data-userid=\"' + authorid + '\"  data-iframe_id=\"panda-repeater-edit-' + ids_in_css + '\"  data-poditemid=\"' + poditemid + '\" data-target=\"' + ids_in_css + '\" >' +\r\n\t\t\t'<span class=\"dashicons dashicons-dismiss pdt6 mgb0 \"></span>' +\r\n\t\t'</div>' +\r\n\t\t'<div class=\"pprf-left pd8\">Repeated</div>';\r\n\t} else {\r\n\t\thtml_build +=\r\n\t\t'<div class=\"button pprf-right-col center pprf-trash-btn ' + delete_action + ' ' + btn_trashed_css + '\" role=\"button\" data-podid=\"' + podid + '\"  data-postid=\"' + postid + '\"  data-tb=\"' + cpodid + '\"  data-itemid=\"' + responding_id + '\"  data-userid=\"' + authorid + '\"  data-iframe_id=\"panda-repeater-edit-' + ids_in_css + '\"  data-poditemid=\"' + poditemid + '\" data-target=\"' + ids_in_css + '\" >' +\r\n\t\t\t'<span class=\"dashicons dashicons-trash pdt6 mgb0 \"></span>' +\r\n\t\t\t'<div id=\"panda-repeater-trash-' + ids_in_css + '-loader\" class=\"pprf-left hidden mgl5\">' +\r\n\t\t\t\t'<img src = \"' + PANDA_PODS_REPEATER_CONSTANTS.url + '/images/dots-loading.gif\" alt=\"loading\" class=\"mgl8 loading pprf-left\"/>' +\r\n\t\t\t'</div>' +\r\n\t\t'</div>' +\r\n\t\t'<div class=\"button pprf-right-col center pprf-save-btn\" role=\"button\" data-podid=\"' + podid + '\"  data-postid=\"' + postid + '\"  data-tb=\"' + cpodid + '\"  data-itemid=\"' + responding_id + '\"  data-userid=\"' + authorid + '\"  data-iframe_id=\"panda-repeater-edit-' + ids_in_css + '\" data-poditemid=\"' + poditemid + '\" data-target=\"' + ids_in_css + '\" >' +\r\n\t\t\t'<img src = \"' + PANDA_PODS_REPEATER_CONSTANTS.url + 'images/save-icon-tran.png\" class=\"pprf-save-icon  mgt8 mgb2\"/>' +\r\n\t\t\t'<div id=\"panda-repeater-save-' + ids_in_css + '-loader\" class=\"pprf-left hidden mgl5\">' +\r\n\t\t\t\t'<img src = \"' + PANDA_PODS_REPEATER_CONSTANTS.url + 'images/dots-loading.gif\" alt=\"loading\" class=\"mgl8 pprf-left\"/>' +\r\n\t\t\t'</div>' +\r\n\t\t'</div>' +\r\n\t\t'<div class=\"button pprf-edit pprf-row-load-iframe alignright pprf-right-col center pprf-edit-btn\" role=\"button\" data-target=\"' + ids_in_css + '\" data-url=\"' + full_url + '\">' +\r\n\t\t\t'<span class=\"dashicons ' + edit_icon_css + ' pdt8 mgb0 pprf-edit-span\"></span>' +\r\n\t\t\t'<div id=\"panda-repeater-edit-' + ids_in_css + '-loader\" class=\"pprf-left hidden mgl5\">' +\r\n\t\t\t\t'<img src = \"' + PANDA_PODS_REPEATER_CONSTANTS.url + '/images/dots-loading.gif\" alt=\"loading\" class=\"mgl9 pprf-left\"/>' +\r\n\t\t\t'</div>\t' +\r\n\t\t'</div>';\r\n\t}\r\n\thtml_build +=\r\n\t\t'</div>' +\r\n\t\t'<div>' +\r\n\t\t\t'<iframe id=\"panda-repeater-edit-' + ids_in_css + '\" frameborder=\"0\" scrolling=\"no\" src=\"\" style=\"display:none; \" class=\"panda-repeater-iframe w100\"></iframe>' +\r\n\t\t\t'<div id=\"panda-repeater-edit-expand-' + ids_in_css + '\" class=\"w100 pprf-left center pdt3 pdb3 pprf-expand-bar pprf-edit-expand\" data-target=\"' + ids_in_css + '\"  style=\"display:none;\">Content missing? Click here to expand</div>' +\r\n\t\t'</div>' +\r\n\t\t'</div>' +\r\n\t'</li>';\r\n\tif ( next_background_css === 'pprf-purple-bg' ) {\r\n\t\tjQuery( '#next-bg' ).data( 'bg', 'pprf-white-bg' );\r\n\t} else {\r\n\t\tjQuery( '#next-bg' ).data( 'bg', 'pprf-purple-bg' );\r\n\t}\r\n\treturn html_build;\r\n}\r\n/**\r\n * Delete an item\r\n */\r\nfunction pprf_delete_item( podid, postid, cpodid, itemid, authorid , iframeid, poditemid, trashed ){\r\n\r\n\tif ( false === isNaN( podid ) && false === isNaN( cpodid ) && false === isNaN( authorid ) && false === isNaN( itemid ) && false === isNaN( poditemid )  ) {\r\n\r\n\t\tvar para_obj  = { 'podid': podid, 'postid': postid, 'cpodid': cpodid, 'itemid' : itemid, 'authorid': authorid, 'poditemid' : poditemid, 'action' : 'admin_pprf_delete_item', 'trash' : trashed, 'security' : ajax_script.nonce };\r\n\t\tvar info_text = '';\r\n\t\tif ( trashed == 0 ) {\r\n\t\t\tinfo_text = strs_obj.be_restored;\r\n\t\t}\r\n\t\tif ( trashed == 1 ) {\r\n\t\t\tinfo_text = strs_obj.can_recover;\r\n\t\t}\r\n\t\tif ( trashed == 2 ) {\r\n\t\t\tinfo_text = strs_obj.be_deleted;\r\n\t\t}\r\n\r\n\t\tvar data_obj = para_obj;\r\n\t\tvar passed   = confirm( strs_obj.you_sure + ' ' + info_text );\r\n\r\n\t\tif ( passed === true  ) {\r\n\r\n\t\t\tif ( trashed == 0 ) {\r\n\t\t\t\tjQuery( '#panda-repeater-edit-' + cpodid + '-' + itemid + '-' + poditemid + '-loader' ).removeClass( 'hidden' );\r\n\t\t\t} else {\r\n\t\t\t\tjQuery( '#panda-repeater-trash-' + cpodid + '-' + itemid + '-' + poditemid + '-loader' ).removeClass( 'hidden' );\r\n\t\t\t}\r\n\r\n\t\t\tjQuery.post(\r\n\t\t\t\tajax_script.ajaxurl,\r\n\t\t\t\tdata_obj,\r\n\t\t\t\tfunction( responses ){\r\n\t\t\t\t\tif ( responses['success'] === true  ) {\r\n\t\t\t\t\t\tvar response_data = responses['data'];\r\n\t\t\t\t\t\tif ( response_data.length != 0 ) {\r\n\t\t\t\t\t\t\tvar ids_in_css   = cpodid + '-' + itemid + '-' + poditemid;\r\n\t\t\t\t\t\t\tvar exp_str      = 'panda-repeater-edit-expand-' + ids_in_css;\r\n\t\t\t\t\t\t\tvar iframe_build = 'panda-repeater-edit-' + ids_in_css;\r\n\r\n\t\t\t\t\t\t\tif ( trashed == 0 ) {\r\n\t\t\t\t\t\t\t\tjQuery( '#panda-repeater-edit-' + cpodid + '-' + itemid + '-' + poditemid + '-loader' ).addClass( 'hidden' );\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tjQuery( '#panda-repeater-trash-' + cpodid + '-' + itemid + '-' + poditemid + '-loader' ).addClass( 'hidden' );\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tif ( trashed == 0 ) {\r\n\t\t\t\t\t\t\t\tjQuery( '#panda-repeater-fields-' + cpodid + '-' + poditemid + ' .pprf-redorder-list li[data-id=\"' + itemid + '\"] .pprf-row-load-iframe .pprf-edit-span' ).removeClass( 'dashicons-update' );\r\n\t\t\t\t\t\t\t\tjQuery( '#panda-repeater-fields-' + cpodid + '-' + poditemid + ' .pprf-redorder-list li[data-id=\"' + itemid + '\"] .pprf-row-load-iframe .pprf-edit-span' ).addClass( 'dashicons-edit' )\r\n\t\t\t\t\t\t\t\tjQuery( '#panda-repeater-fields-' + cpodid + '-' + poditemid + ' .pprf-redorder-list li[data-id=\"' + itemid + '\"]' ).removeClass( 'pprf-trashed' );\r\n\t\t\t\t\t\t\t\tjQuery( '#panda-repeater-fields-' + cpodid + '-' + poditemid + ' .pprf-redorder-list li[data-id=\"' + itemid + '\"]' ).addClass( 'pprf-not-trashed' );\r\n\t\t\t\t\t\t\t\tjQuery( '#panda-repeater-fields-' + cpodid + '-' + poditemid + ' .pprf-redorder-list li[data-id=\"' + itemid + '\"]' ).css( 'display', 'none' );\r\n\t\t\t\t\t\t\t\tjQuery( '#panda-repeater-fields-' + cpodid + '-' + poditemid + ' .pprf-redorder-list li[data-id=\"' + itemid + '\"] .pprf-trash-btn' ).addClass( 'pprf-btn-not-trashed' );\r\n\t\t\t\t\t\t\t\tjQuery( '#panda-repeater-fields-' + cpodid + '-' + poditemid + ' .pprf-redorder-list li[data-id=\"' + itemid + '\"] .pprf-trash-btn' ).removeClass( 'pprf-btn-trashed' );\r\n\r\n\t\t\t\t\t\t\t\tif ( jQuery.trim( jQuery( '#' + iframe_build ).contents().find( \"body\" ).html() ) != '' ) {\r\n\t\t\t\t\t\t\t\t\tjQuery( '#panda-repeater-fields-' + cpodid + '-' + poditemid + ' .pprf-redorder-list li[data-id=\"' + itemid + '\"] .pprf-save-btn .pprf-save-icon' ).attr( 'src', PANDA_PODS_REPEATER_CONSTANTS.url + 'images/save-icon.png' );\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif ( trashed == 1 ) {\r\n\r\n\t\t\t\t\t\t\t\tif ( jQuery( '#' + iframe_build ) != 'undefined' ) {\r\n\t\t\t\t\t\t\t\t\tjQuery( '#' + iframe_build ).hide();\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tif ( jQuery( '#' + exp_str ) != 'undefined' ) {\r\n\t\t\t\t\t\t\t\t\tjQuery( '#' + exp_str ).hide();\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\tjQuery( '#pprf-row-brief-' + ids_in_css + ' .dashicons' ).removeClass( 'dashicons-arrow-up' );\r\n\t\t\t\t\t\t\t\tjQuery( '#pprf-row-brief-' + ids_in_css + ' .dashicons' ).addClass( 'dashicons-edit' );\r\n\r\n\t\t\t\t\t\t\t\tjQuery( '#panda-repeater-fields-' + cpodid + '-' + poditemid + ' .pprf-redorder-list li[data-id=\"' + itemid + '\"]' ).removeClass( 'pprf-not-trashed' );\r\n\t\t\t\t\t\t\t\tjQuery( '#panda-repeater-fields-' + cpodid + '-' + poditemid + ' .pprf-redorder-list li[data-id=\"' + itemid + '\"]' ).addClass( 'pprf-trashed' );\r\n\t\t\t\t\t\t\t\tjQuery( '#panda-repeater-fields-' + cpodid + '-' + poditemid + ' .pprf-redorder-list li[data-id=\"' + itemid + '\"]' ).css( 'display', 'none' );\r\n\t\t\t\t\t\t\t\tjQuery( '#panda-repeater-fields-' + cpodid + '-' + poditemid + ' .pprf-redorder-list li[data-id=\"' + itemid + '\"] .pprf-row-load-iframe .pprf-edit-span' ).addClass( 'dashicons-update' );\r\n\t\t\t\t\t\t\t\tjQuery( '#panda-repeater-fields-' + cpodid + '-' + poditemid + ' .pprf-redorder-list li[data-id=\"' + itemid + '\"] .pprf-row-load-iframe .pprf-edit-span' ).removeClass( 'dashicons-edit' );\r\n\t\t\t\t\t\t\t\tjQuery( '#panda-repeater-fields-' + cpodid + '-' + poditemid + ' .pprf-redorder-list li[data-id=\"' + itemid + '\"] .pprf-trash-btn' ).addClass( 'pprf-btn-trashed' );\r\n\t\t\t\t\t\t\t\tjQuery( '#panda-repeater-fields-' + cpodid + '-' + poditemid + ' .pprf-redorder-list li[data-id=\"' + itemid + '\"] .pprf-trash-btn' ).removeClass( 'pprf-btn-not-trashed' );\r\n\t\t\t\t\t\t\t\tjQuery( '#panda-repeater-fields-' + cpodid + '-' + poditemid + ' .pprf-redorder-list li[data-id=\"' + itemid + '\"] .pprf-save-btn .pprf-save-icon' ).attr( 'src', PANDA_PODS_REPEATER_CONSTANTS.url + 'images/save-icon-tran.png' );\r\n\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif ( trashed == 2 ) {\r\n\t\t\t\t\t\t\t\tjQuery( '#panda-repeater-fields-' + cpodid + '-' + poditemid + ' #' + iframeid ).parent().parent().remove();\r\n\t\t\t\t\t\t\t\tjQuery( '#panda-repeater-fields-' + cpodid + '-' + poditemid + ' .pprf-redorder-list li[data-id=\"' + itemid + '\"]' ).remove();\r\n\t\t\t\t\t\t\t\t// If entries limit, toggle the add new.\r\n\t\t\t\t\t\t\t\tvar items_left_count = jQuery( '#panda-repeater-fields-' + cpodid + '-' + poditemid + ' > .pprf-redorder-list > li' ).length;\r\n\t\t\t\t\t\t\t\tvar limit_int        = parseInt( jQuery( '#panda-repeater-fields-' + cpodid + '-' + poditemid + '-entry-limit' ).val() );\r\n\t\t\t\t\t\t\t\tif ( limit_int != 0 && items_left_count < limit_int ) {\r\n\t\t\t\t\t\t\t\t\tjQuery( '#panda-repeater-fields-' + cpodid + '-' + poditemid + '-add-new' ).removeClass( 'hidden' );\r\n\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t// Integrate with simpods js.\r\n\t\t\t\t\t\t\t\tif ( typeof call_simpods !== 'undefined' && jQuery.isFunction( call_simpods ) ) {\r\n\t\t\t\t\t\t\t\t\tcall_simpods( responses );\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tpprf_odd_even_color( cpodid + '-' + poditemid );\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t);\r\n\r\n\t\t}\r\n\t}\r\n}\r\n\r\njQuery( document ).on(\r\n\t'click',\r\n\t'.pprf-redorder-btn',\r\n\tfunction( evt ){\r\n\t\tvar id = jQuery( this ).data( 'id' );\r\n\t\tjQuery( this ).addClass( 'hidden' );\r\n\t\tjQuery( this ).parent().children( '.pprf-save-redorder-btn' ).removeClass( 'hidden' );\r\n\t\tjQuery( this ).parent().children( '.pprf-redorder-list-wrap' ).removeClass( 'hidden' );\r\n\t\tjQuery( this ).parent().children( '.pprf-row' ).addClass( 'hidden' );\r\n\t\tjQuery( '#' + id + '-add-new' ).addClass( 'hidden' );\r\n\t}\r\n);\r\n\r\n\r\njQuery( document ).on(\r\n\t'click',\r\n\t'.pprf-save-redorder-btn',\r\n\tfunction( evt ){\r\n\t\tvar id = jQuery( this ).data( 'id' );\r\n\t\tjQuery( this ).addClass( 'hidden' );\r\n\t\tjQuery( this ).parent().children( '.pprf-redorder-list-wrap' ).addClass( 'hidden' );\r\n\t\tjQuery( this ).parent().children( '.pprf-save-redorder-btn' ).addClass( 'hidden' );\r\n\t\tjQuery( this ).parent().children( '.pprf-redorder-btn' ).removeClass( 'hidden' );\r\n\t\tjQuery( this ).parent().children( '.pprf-row' ).removeClass( 'hidden' );\r\n\t\tjQuery( '#' + id + '-add-new' ).removeClass( 'hidden' );\r\n\t}\r\n);\r\n/**\r\n * Load more.\r\n */\r\njQuery( document ).on(\r\n\t'click',\r\n\t'.pprf-load-more-btn',\r\n\tfunction( evt ){\r\n\t\tevt.preventDefault();\r\n\t\tjQuery( '#pprf-load-more-wrap-' + jQuery( this ).data( 'target' ) + ' .pprf-ajax-img' ).css( 'display', 'block' );\r\n\r\n\t\tpprf_load_more( jQuery( this ).data( 'target' ), jQuery( this ) );\r\n\r\n\t}\r\n)\r\n\r\nfunction pprf_load_more( target_str, ele_obj ){\r\n\tvar loaded_arr = new Array();\r\n\tjQuery( '#panda-repeater-fields-' + target_str + ' .pprf-redorder-list li' ).each(\r\n\t\tfunction( idx_int ) {\r\n\t\t\tloaded_arr[ idx_int ] = parseInt( jQuery( this ).data( 'id' ) );\r\n\t\t}\r\n\t);\r\n\r\n\tvar data_obj = {\r\n\t\taction \t\t: \t'admin_pprf_load_more',\r\n\t\tloaded \t\t:\tloaded_arr,\r\n\t\tsecurity \t: \tajax_script.nonce,\r\n\t\tpod_id\t\t: \tele_obj.data( 'podid' ),\r\n\t\tpost_id\t\t: \tele_obj.data( 'postid' ),\r\n\t\tsaved_tb\t: \tele_obj.data( 'tb' ),\r\n\t\tiframe_id \t: \tele_obj.data( 'iframe_id' ),\r\n\t\tpod_item_id\t: \tele_obj.data( 'poditemid' ),\r\n\t\tauthorid\t: \tele_obj.data( 'userid' ),\r\n\t\tcp_title\t: \tele_obj.data( 'cptitle' ),\r\n\t\ttrashable\t: \tele_obj.data( 'enable-trash' ),\r\n\t\torder\t\t: \tele_obj.data( 'order' ),\r\n\t\torder_by\t: \tele_obj.data( 'order-by' ),\r\n\t\tamount\t\t: \tjQuery( '#panda-repeater-amount-' + target_str ).val(),\r\n\t\tstart\t\t: \tjQuery( '#panda-repeater-start-from-' + target_str ).val()\r\n\t};\r\n\tjQuery( '#pprf-load-more-wrap-' + target_str + ' .pprf-load-more-report' ).text( '' );\r\n\tjQuery.post(\r\n\t\tajax_script.ajaxurl,\r\n\t\tdata_obj,\r\n\t\tfunction( response_obj ){\r\n\t\t\tvar html_build = '';\r\n\t\t\tif ( response_obj.success == true ) {\r\n\t\t\t\tvar trashed_count = 0;\r\n\t\t\t\tvar data_length   = response_obj.data.length;\r\n\t\t\t\tvar loaded_length = loaded_arr.length;\r\n\t\t\t\tfor ( var i = 0; i < data_length; i ++ ) {\r\n\t\t\t\t\tvar is_repeated\t= false;\r\n\r\n\t\t\t\t\tif ( jQuery( '#pprf-load-more-wrap-' + target_str + ' .panda-repeater-to-load' ).val() === 'append_to' ) { // Only need to check repeatition if it is on Append To.\r\n\t\t\t\t\t\tfor ( var j = 0; j < loaded_length; j ++ ) {\t// InArry doesn't work.\r\n\t\t\t\t\t\t\tif ( parseInt( response_obj.data[ i ]['id'] ) == loaded_arr[ j ] ) {\r\n\t\t\t\t\t\t\t\tis_repeated\t= true;\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\thtml_build += pprf_build_item_html( response_obj.data[ i ], data_obj.pod_id, data_obj.post_id, data_obj.saved_tb, data_obj.authorid , data_obj.iframe_id, data_obj.pod_item_id, data_obj.cp_title, is_repeated )\r\n\t\t\t\t\tif ( response_obj.data[ i ]['trashed'] == 1 ) {\r\n\t\t\t\t\t\ttrashed_count ++;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tvar info_text = response_obj.data.length;\r\n\t\t\t\tif ( data_obj.trashable == 1 ) {\r\n\t\t\t\t\tinfo_text = ( parseInt( response_obj.data.length ) - trashed_count ) + ' published, ' + trashed_count + ' trashed.';\r\n\t\t\t\t}\r\n\t\t\t\tif ( jQuery( '#pprf-load-more-wrap-' + target_str + ' .panda-repeater-to-load' ).val() == 'append_to' ) {\r\n\t\t\t\t\tjQuery( '#panda-repeater-fields-' + data_obj.saved_tb + '-' + data_obj.pod_item_id + ' .pprf-redorder-list' ).append( html_build );\r\n\t\t\t\t} else {\r\n\t\t\t\t\tjQuery( '#panda-repeater-fields-' + data_obj.saved_tb + '-' + data_obj.pod_item_id + ' .pprf-redorder-list' ).html( html_build );\r\n\t\t\t\t}\r\n\t\t\t\tpprf_odd_even_color( data_obj.saved_tb + '-' + data_obj.pod_item_id );\r\n\t\t\t\tjQuery( '#pprf-load-more-wrap-' + target_str + ' .pprf-ajax-img' ).css( 'display', 'none' );\r\n\r\n\t\t\t\tif ( response_obj.data.length != 0 ) {\r\n\t\t\t\t\tjQuery( '#panda-repeater-start-from-' + target_str ).val( parseInt( data_obj.start ) + parseInt( response_obj.data.length ) );\r\n\t\t\t\t}\r\n\r\n\t\t\t\tjQuery( '#pprf-load-more-wrap-' + target_str + ' .pprf-load-more-report' ).text( ' | Loaded ' + info_text );\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t);\r\n}\r\n/**\r\n * Reset colours for each row.\r\n */\r\nfunction pprf_odd_even_color( ids ){\r\n\r\n\tjQuery( '#panda-repeater-fields-' + ids + ' .pprf-left-col' ).removeClass( 'pprf-purple-bg' );\r\n\tjQuery( '#panda-repeater-fields-' + ids + ' .pprf-left-col' ).removeClass( 'pprf-white-bg' );\r\n\r\n\tif ( jQuery( '#panda-repeater-fields-tabs-' + ids ).length == 0 ) {\r\n\r\n\t\tjQuery( '#panda-repeater-fields-' + ids + ' .pprf-left-col' ).each(\r\n\t\t\tfunction( idx ) {\r\n\t\t\t\tif ( idx % 2 == 0 ) {\r\n\t\t\t\t\tjQuery( this ).addClass( 'pprf-white-bg' );\r\n\t\t\t\t} else {\r\n\t\t\t\t\tjQuery( this ).addClass( 'pprf-purple-bg' );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t)\r\n\t}\r\n\tjQuery( '#panda-repeater-fields-' + ids + ' .pprf-not-trashed' ).each(\r\n\t\tfunction( idx ) {\r\n\t\t\tif ( idx % 2 == 0 ) {\r\n\t\t\t\tjQuery( this ).children( '.pprf-row' ).children().children( '.pprf-left-col' ).addClass( 'pprf-white-bg' );\r\n\t\t\t} else {\r\n\t\t\t\tjQuery( this ).children( '.pprf-row' ).children().children( '.pprf-left-col' ).addClass( 'pprf-purple-bg' );\r\n\t\t\t}\r\n\t\t}\r\n\t);\r\n\tjQuery( '#panda-repeater-fields-' + ids + ' .pprf-trashed' ).each(\r\n\t\tfunction( idx ) {\r\n\t\t\tif ( idx % 2 == 0 ) {\r\n\t\t\t\tjQuery( this ).children( '.pprf-row' ).children().children( '.pprf-left-col' ).addClass( 'pprf-white-bg' );\r\n\t\t\t} else {\r\n\t\t\t\tjQuery( this ).children( '.pprf-row' ).children().children( '.pprf-left-col' ).addClass( 'pprf-purple-bg' );\r\n\t\t\t}\r\n\t\t}\r\n\t);\r\n}\r\n/**\r\n * If reassigned successfully, remove the item and reset colours.\r\n */\r\nfunction pprf_reassign( cpodid, poditemid, itemid ){\r\n\r\n\tjQuery( '#panda-repeater-fields-' + cpodid + '-' + poditemid + ' .pprf-redorder-list li[data-id=\"' + itemid + '\"]' ).remove();\r\n\r\n\tpprf_odd_even_color( cpodid + '-' + poditemid );\r\n}\r\njQuery( document ).ready(\r\n\tfunction($) {\r\n\t\t/**\r\n\t\t * Fix_helper_modified for drag and drop.\r\n\t\t */\r\n\t\tvar fix_helper_modified = function(e, tr) {\r\n\t\t\t\tvar $originals = tr.children();\r\n\t\t\t\tvar $helper    = tr.clone();\r\n\t\t\t$helper.children().each(\r\n\t\t\t\tfunction(index) {\r\n\t\t\t\t\t$( this ).width( $originals.eq( index ).width() );\r\n\t\t\t\t}\r\n\t\t\t);\r\n\r\n\t\t\treturn $helper;\r\n\t\t},\r\n\t\tupdate_index            = function(e, ui) {\r\n\t\t\t\tvar the_order = $( this ).sortable( 'toArray' );\r\n\r\n\t\t\t\tvar data_obj = {\r\n\t\t\t\t\taction:   'admin_pprf_update_order',\r\n\t\t\t\t\torder: \t  the_order,\r\n\t\t\t\t\tsecurity : ajax_script.nonce\r\n\t\t\t};\r\n\r\n\t\t\t$.post(\r\n\t\t\t\tajax_script.ajaxurl,\r\n\t\t\t\tdata_obj,\r\n\t\t\t\tfunction( resp_arr ){\r\n\t\t\t\t\tpprf_odd_even_color( resp_arr.data.pprf_id );\r\n\t\t\t\t}\r\n\t\t\t)\r\n\t\t};\r\n\r\n\t\tif ( $( '.pprf-redorder-list.pandarf_order' ).length != 0 ) {\r\n\t\t\t$( '.pprf-redorder-list.pandarf_order' ).sortable(\r\n\t\t\t\t{\r\n\t\t\t\t\thelper: fix_helper_modified,\r\n\t\t\t\t\tcursor:         'move',\r\n\t\t\t\t\topacity:        0.7,\r\n\t\t\t\t\ttolerance:      'intersect',\r\n\t\t\t\t\tupdate: \t\tupdate_index,\r\n\t\t\t\t\tcancel: \t\t'.pprf-row-load-iframe, .pprf-save-btn, pprf-trash-btn',\r\n\t\t\t\t\thandle: \t\t'.pprf-left-col'\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\t$( document.body ).on(\r\n\t\t\t'click',\r\n\t\t\t'.pprf-row-load-iframe',\r\n\t\t\tfunction( e ){\r\n\t\t\t\te.stopPropagation();\r\n\t\t\t\tvar url_str      = $( this ).data( 'url' );\r\n\t\t\t\tvar ids_in_css   = $( this ).data( 'target' );\r\n\t\t\t\tvar exp_str      = 'panda-repeater-edit-expand-' + ids_in_css;\r\n\t\t\t\tvar iframe_build = 'panda-repeater-edit-' + ids_in_css;\r\n\t\t\t\tvar trash_ele    = $( this ).parent().children( '.pprf-trash-btn' );\r\n\t\t\t\tif ( $( this ).children( '.pprf-edit-span' ).hasClass( 'dashicons-update' ) ) {\r\n\t\t\t\t\t// Restore this item.\r\n\t\t\t\t\tpprf_delete_item( trash_ele.data( 'podid' ), trash_ele.data( 'postid' ), trash_ele.data( 'tb' ), trash_ele.data( 'itemid' ), trash_ele.data( 'userid' ), trash_ele.data( 'iframe_id' ), trash_ele.data( 'poditemid' ), 0 );\r\n\t\t\t\t} else {\r\n\t\t\t\t\t\tvar addEdit_str = ' .pprf-edit';\r\n\t\t\t\t\tif ( $( this ).hasClass( 'pprf-add' ) ) {\r\n\t\t\t\t\t\taddEdit_str  = '.pprf-add';\r\n\t\t\t\t\t\tiframe_build = 'panda-repeater-add-new-' + ids_in_css;\r\n\t\t\t\t\t\texp_str      = 'panda-repeater-add-new-expand-' + ids_in_css;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ( $( '#pprf-row-brief-' + ids_in_css + ' .dashicons' ).hasClass( 'dashicons-edit' ) ) {\r\n\r\n\t\t\t\t\t\t// If iframe not loaded.\r\n\r\n\t\t\t\t\t\tif ( $( '#' + iframe_build ).attr( 'src' ) == '' ) {\r\n\t\t\t\t\t\t\t$( '#' + iframe_build ).attr( 'src', url_str );\r\n\t\t\t\t\t\t\t$( '#' + iframe_build + '-loader' ).removeClass( 'hidden' );\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t$( '#' + iframe_build ).show(\r\n\t\t\t\t\t\t\t'slow',\r\n\t\t\t\t\t\t\tfunction(){\r\n\t\t\t\t\t\t\t\t$( '#pprf-row-brief-' + ids_in_css + '' + addEdit_str + ' .dashicons' ).addClass( 'dashicons-arrow-up' );\r\n\t\t\t\t\t\t\t\t$( '#pprf-row-brief-' + ids_in_css + '' + addEdit_str + ' .dashicons' ).removeClass( 'dashicons-edit' );\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t\t$( '#' + exp_str ).show();\r\n\t\t\t\t\t\t$( '#' + iframe_build ).on(\r\n\t\t\t\t\t\t\t'load',\r\n\t\t\t\t\t\t\tfunction(){\r\n\t\t\t\t\t\t\t\t$( '#' + iframe_build + '-loader' ).addClass( 'hidden' );\r\n\t\t\t\t\t\t\t\t// Change icon.\r\n\t\t\t\t\t\t\t\t$( '#panda-repeater-save-' + ids_in_css + '-loader' ).parent().children( '.pprf-save-icon' ).attr( 'src', PANDA_PODS_REPEATER_CONSTANTS.url + '/images/save-icon.png' );\r\n\t\t\t\t\t\t\t\t$( '#panda-repeater-save-' + ids_in_css + '-loader' ).parent().addClass( 'pprf-btn-ready' );\r\n\t\t\t\t\t\t\t\t$( '#panda-repeater-save-' + ids_in_css + '-loader' ).addClass( 'hidden' );\r\n\t\t\t\t\t\t\t\t$( '#pprf-row-brief-' + ids_in_css + addEdit_str + ' .dashicons' ).addClass( 'dashicons-arrow-up' );\r\n\t\t\t\t\t\t\t\t$( '#pprf-row-brief-' + ids_in_css + addEdit_str + ' .dashicons' ).removeClass( 'dashicons-edit' );\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t);\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t$( '#' + iframe_build ).hide(\r\n\t\t\t\t\t\t\t'slow',\r\n\t\t\t\t\t\t\tfunction(){\r\n\t\t\t\t\t\t\t\t$( '#pprf-row-brief-' + ids_in_css + addEdit_str + ' .dashicons' ).removeClass( 'dashicons-arrow-up' );\r\n\t\t\t\t\t\t\t\t$( '#pprf-row-brief-' + ids_in_css + addEdit_str + ' .dashicons' ).addClass( 'dashicons-edit' );\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t\t$( '#' + exp_str ).hide();\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t\t$( '#pprf-row-brief-' + ids_in_css + ' .dashicons-trash' ).removeClass( 'dashicons-arrow-up' );\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\t\t);\r\n\t\t/**\r\n\t\t * Click to explan its iframe.\r\n\t\t */\r\n\t\t$( document.body ).on(\r\n\t\t\t'click',\r\n\t\t\t'.pprf-expand-bar',\r\n\t\t\tfunction(){\r\n\t\t\t\tvar ids    = $( this ).data( 'target' );\r\n\t\t\t\tvar iframe = 'panda-repeater-edit-' + ids;\r\n\t\t\t\tif ( $( this ).hasClass( 'pprf-add-expand' ) ) {\r\n\t\t\t\t\tiframe = 'panda-repeater-add-new-' + ids;\r\n\t\t\t\t}\r\n\t\t\t\tif ( typeof document.getElementById( iframe ) != 'undefined' ) {\r\n\t\t\t\t\tif ( typeof document.getElementById( iframe ).contentWindow.pprf_resize_window != 'undefined' ) {\r\n\t\t\t\t\t\tdocument.getElementById( iframe ).contentWindow.pprf_resize_window();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t);\r\n\t\t/**\r\n\t\t * Click to delete.\r\n\t\t */\r\n\t\t$( document.body ).on(\r\n\t\t\t'click',\r\n\t\t\t'.pprf-trash-btn',\r\n\t\t\tfunction( e ){\r\n\t\t\t\te.stopPropagation();\r\n\t\t\t\tvar ids    = $( this ).data( 'target' );\r\n\t\t\t\tvar iframe = 'panda-repeater-edit-' + ids;\r\n\t\t\t\tif ( $( this ).hasClass( 'pprf-add-expand' ) ) {\r\n\t\t\t\t\tiframe = 'panda-repeater-add-new-' + ids;\r\n\t\t\t\t}\r\n\t\t\t\tvar trash = 0;\r\n\t\t\t\tif ( $( this ).hasClass( 'pprf-btn-not-trashed' ) ) {\r\n\t\t\t\t\ttrash = 1;\r\n\t\t\t\t}\r\n\t\t\t\tif ( $( this ).hasClass( 'pprf-btn-trashed' ) ) {\r\n\t\t\t\t\ttrash = 2;\r\n\t\t\t\t}\r\n\t\t\t\tif ( $( this ).hasClass( 'pprf-btn-delete' ) ) {\r\n\t\t\t\t\ttrash = 2;\r\n\t\t\t\t}\r\n\t\t\t\tpprf_delete_item( $( this ).data( 'podid' ), $( this ).data( 'postid' ), $( this ).data( 'tb' ), $( this ).data( 'itemid' ), $( this ).data( 'userid' ), $( this ).data( 'iframe_id' ), $( this ).data( 'poditemid' ), trash );\r\n\t\t\t}\r\n\t\t)\r\n\r\n\t\t$( document.body ).on(\r\n\t\t\t'click',\r\n\t\t\t'.pprf-save-btn',\r\n\t\t\tfunction( e ){\r\n\t\t\t\te.stopPropagation();\r\n\t\t\t\tif ( $( this ).hasClass( 'pprf-btn-ready' ) ) {\r\n\t\t\t\t\tvar ids    = $( this ).data( 'target' );\r\n\t\t\t\t\tvar iframe = 'panda-repeater-edit-' + ids;\r\n\t\t\t\t\tif ( $( this ).hasClass( 'pprf-save-new-btn' ) ) {\r\n\t\t\t\t\t\tiframe = 'panda-repeater-add-new-' + ids;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t$( '#panda-repeater-save-' + ids + '-loader' ).removeClass( 'hidden' );\r\n\r\n\t\t\t\t\t$( '#' + iframe ).contents().find( '.pods-submit-button' ).trigger( \"click\" );\r\n\t\t\t\t\tpprf_is_changed = false;\r\n\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t);\r\n\t\t/**\r\n\t\t * If a pods is is clicked, flag it as saved.\r\n\t\t */\r\n\t\t$( '.toplevel_page_panda-pods-repeater-field .pods-field-input' ).on(\r\n\t\t\t'click keyup change',\r\n\t\t\tfunction(){\r\n\t\t\t\tpprf_is_changed = true;\r\n\t\t\t}\r\n\t\t);\r\n\r\n\t\t$( document ).on(\r\n\t\t\t'click',\r\n\t\t\t'#publishing-action .button, #save-action .button',\r\n\t\t\tfunction(){\r\n\t\t\t\tif ( pprf_is_changed ) {\r\n\t\t\t\t\t\tevt.preventDefault();\r\n\t\t\t\t\t\tvar leave = confirm( strs_obj.Ignore_changes );\r\n\t\t\t\t\tif ( leave == true) {\r\n\t\t\t\t\t\tpprf_is_changed = false;\r\n\r\n\t\t\t\t\t\t$( this ).trigger( 'click' );\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif ( leave == false) {\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t);\r\n\r\n\t\t/**\r\n\t\t * Toggle trashed and current.\r\n\t\t */\r\n\t\t$( document.body ).on(\r\n\t\t\t'click',\r\n\t\t\t'.pprf-tab .dashicons-trash',\r\n\t\t\tfunction(){\r\n\r\n\t\t\t\t$( '#panda-repeater-fields-' + $( this ).parent().data( 'target' ) + ' .pprf-trashed' ).css( 'display', 'block' );\r\n\t\t\t\t$( '#panda-repeater-fields-' + $( this ).parent().data( 'target' ) + ' .pprf-not-trashed' ).css( 'display', 'none' );\r\n\t\t\t\t$( this ).parent().parent().children( '.active' ).removeClass( 'active' );\r\n\t\t\t\t$( this ).parent().addClass( 'active' );\r\n\t\t\t\tpprf_odd_even_color( $( this ).parent().data( 'target' ) );\r\n\r\n\t\t\t}\r\n\t\t)\r\n\t\t$( document.body ).on(\r\n\t\t\t'click',\r\n\t\t\t'.pprf-tab .dashicons-portfolio',\r\n\t\t\tfunction(){\r\n\t\t\t\t$( '#panda-repeater-fields-' + $( this ).parent().data( 'target' ) + ' .pprf-trashed' ).css( 'display', 'none' );\r\n\t\t\t\t$( '#panda-repeater-fields-' + $( this ).parent().data( 'target' ) + ' .pprf-not-trashed' ).css( 'display', 'block' );\r\n\t\t\t\t$( this ).parent().parent().children( '.active' ).removeClass( 'active' );\r\n\t\t\t\t$( this ).parent().addClass( 'active' );\r\n\t\t\t\tpprf_odd_even_color( $( this ).parent().data( 'target' ) );\r\n\t\t\t}\r\n\t\t)\r\n\r\n\t\t/**\r\n\t\t * Remove repeated.\r\n\t\t */\r\n\t\t$( document.body ).on(\r\n\t\t\t'click',\r\n\t\t\t'.pprf-dismiss-btn',\r\n\t\t\tfunction(){\r\n\t\t\t\t$( '#li-' + $( this ).data( 'target' ) + '-repeated' ).remove();\r\n\t\t\t}\r\n\t\t)\r\n\t}\r\n);\r\n\r\nvar pprf_is_changed\t= false;\r\n"]}