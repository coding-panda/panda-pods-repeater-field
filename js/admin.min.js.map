{"version":3,"sources":["admin.js"],"names":["pprf_resize_iframe","obj","style","height","contentWindow","document","body","scrollHeight","pprf_update_iframe_size","x","y","jQuery","animate","pprf_update_size","pprf_original_height","pprf_update_parent_iframe","pprf_parent_height","pprf_new","podid","postid","cpodid","authorid","iframeid","poditemid","parentName","isNumeric","action","security","ajax_script","nonce","removeClass","post","ajaxurl","data_obj","re_arr","addClass","return_arr","iframe_str","length","itemsLeft_int","limit_int","parseInt","val","click","pprf_build_item_html","$item_arr","repeated_bln","trashed_str","btnTrashed_str","display_str","editIcon_str","data","hasClass","repeated_str","ids_str","title_str","label_str","response_str","delAct_str","nextBg_str","fullUrl_str","html_str","info_str","PANDA_PODS_REPEATER_URL","pprf_delete_item","itemid","trashed","para_obj","trash","passt_bln","can_recover","strs_obj","be_deleted","rsp_arr","confirm","you_sure","response_arr","pprf_odd_even_color","hide","css","exp_str","contents","find","html","attr","call_simpods","parent","remove","isFunction","cp_title","ele_obj","trashable","Array","order","target_str","each","idx_int","order_by","this","loaded_arr","pod_id","post_id","response_obj","success","saved_tb","trashed_count","iframe_id","pod_item_id","amount","start","text","i","j","append","ids","idx","children","$originals","$helper","id","on","evt","preventDefault","pprf_load_more","loaded","ready","$","sortable","helper","e","tr","clone","resp_arr","opacity","tolerance","addEdit_str","update","fix_helper_modified","cancel","stopPropagation","pprf_id","url_str","trash_ele","show","getElementById","iframe","pprf_resize_window","pprf_is_changed","trigger","Ignore_changes","leave"],"mappings":"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","file":"admin.min.js","sourcesContent":["function pprf_resize_iframe(obj) {\r\n\tobj.style.height = obj.contentWindow.document.body.scrollHeight + 'px';\r\n\r\n}\r\n\r\nfunction pprf_update_iframe_size( x, y ){\r\n\t\r\n\tif ( x != '' ) {\r\n\t\tjQuery('#' + x).height( jQuery('#' + x).height() ).animate({height: y}, 500);\r\n\t}\r\n}\r\nfunction pprf_update_size( x ){\r\n\t\r\n\tif ( x != '' ) {\r\n\t\tvar pprf_original_height = jQuery( x + ' html #wpbody-content').height() + 60;\r\n\t\r\n\t\tjQuery('#' + x).height( jQuery('#' + x).height() ).animate({height: pprf_original_height }, 500);;\r\n\r\n\t}\r\n}\r\n\r\nfunction pprf_update_parent_iframe( x ){\r\n\t\r\n\tif ( x != '') {\r\n\t\t\r\n\t\tvar y = jQuery('#' + x + ' html #wpbody-content').height();\r\n\t\t// 4px is the small gap at the bottom\r\n\t\tjQuery('#' + x).height( jQuery('#' + x).height() ).animate({height: y }, 500);\r\n\r\n\t}\r\n}\r\nvar pprf_parent_height = jQuery('html').height();\r\n/**\r\n * insert a new row to the page after adding a new item\r\n */\r\nfunction pprf_new( podid, postid, cpodid, authorid , iframeid, poditemid, parentName ){ \r\n\tif( jQuery.isNumeric( podid ) && jQuery.isNumeric( cpodid ) && jQuery.isNumeric( authorid ) && jQuery.isNumeric( poditemid ) ) {\r\n\t\t\r\n\t\tvar para_obj  = { 'podid': podid, 'postid': postid, 'cpodid': cpodid, 'authorid': authorid, 'poditemid' : poditemid, 'action' : 'admin_pprf_load_newly_added', 'security' : ajax_script.nonce };\r\n\t\r\n\t\tvar data_obj  = para_obj;\r\n\t\t\r\n\t\tjQuery('#panda-repeater-fields-' + cpodid + '-' + poditemid + '-' + 'loader' ).removeClass('hidden');\t\t\t\r\n\t\tjQuery.post(\r\n\t\t\tajax_script.ajaxurl, \r\n\t\t\tdata_obj, \r\n\t\t\tfunction( re_arr ){\t\r\n\t\t\t\tjQuery('#panda-repeater-fields-' + cpodid + '-' + poditemid + '-' + 'loader' ).addClass('hidden');\t\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\tvar return_arr = re_arr['data'];\t\t\t\t\t\t\t\t\r\n\r\n\t\t\t\t//console.log( return_arr );\r\n\t\t\t\tif( re_arr['success'] === true &&  typeof return_arr['id'] !== 'undefined' && jQuery.isNumeric( return_arr['id'] ) ){\r\n\r\n\t\t\t\t\tvar\tiframe_str\t\t= pprf_build_item_html( return_arr, podid, postid, cpodid, authorid , iframeid, poditemid, parentName, false );\r\n\t\t\t\t\t\r\n\t\t\t\t\tjQuery( '#panda-repeater-fields-' + cpodid + '-' + poditemid + ' .pprf-redorder-list' ).append( iframe_str ); \r\n\t\t\t\t\t// if entries limit, toggle the add new \r\n\t\t\t\t\tvar itemsLeft_int\t= jQuery('#panda-repeater-fields-' + cpodid + '-' + poditemid + ' > .pprf-redorder-list > li').length;\r\n\t\t\t\t\tvar limit_int\t=\tparseInt( jQuery( '#panda-repeater-fields-' + cpodid + '-' + poditemid + '-entry-limit' ).val() );\r\n\t\t\t\t\tif( limit_int != 0 && itemsLeft_int >= limit_int ){\r\n\t\t\t\t\t\tjQuery( '#panda-repeater-fields-' + cpodid + '-' + poditemid + '-add-new' ).addClass('hidden');\t\t\t\t\t\t\t\r\n\t\t\t\t\t}\t\t\t\t\t\t\r\n\r\n\t\t\t\t}\r\n\t\t\t\t// if add a new one, activeate the live items tab\r\n\t\t\t\tjQuery( '#panda-repeater-fields-tabs-' + cpodid + '-' + poditemid + ' .pprf-tab .dashicons-portfolio').click();\t\r\n\t\t\t\t//jQuery( document ).on('click', '#panda-repeater-fields-tabs-' + cpodid + '-' + poditemid + ' .pprf-tab .dashicons-portfolio' );\r\n\t\t\t\t\r\n\t\t\t\tpprf_odd_even_color( cpodid + '-' + poditemid );\r\n\t\t\t}\r\n\t\t);\t\r\n\t}\r\n}\r\n\r\nfunction pprf_build_item_html( $item_arr, podid, postid, cpodid, authorid , iframeid, poditemid, parentName, repeated_bln ){\r\n\tif( typeof $item_arr['id'] == 'undefined' || !jQuery.isNumeric( $item_arr['id'] ) ){\r\n\t\treturn '';\r\n\t}\r\n//console.log($item_arr);\r\n\tvar trashed_str\t\t= '';\r\n\tvar btnTrashed_str\t= 'pprf-btn-delete';\r\n\tvar display_str\t\t= '';\r\n\tvar editIcon_str\t= 'dashicons-edit';\r\n\r\n\tif( jQuery('#panda-repeater-trash-info-' + cpodid + '-' + poditemid ).data('enable-trash') == 1 ){\t\t\r\n\t\tif( typeof $item_arr['trashed'] != 'undefined' && $item_arr['trashed'] == 1 ){\r\n\t\t\t\r\n\t\t\ttrashed_str \t= 'pprf-trashed';\r\n\t\t\tbtnTrashed_str\t= 'pprf-btn-trashed';\r\n\t\t\t// if the portfolio foder is open, hide the trash one\r\n\t\t\teditIcon_str\t= 'dashicons-update ';\t\r\n\t\t\tif( jQuery('#panda-repeater-fields-tabs-' + cpodid + '-' + poditemid + ' .pprf-tab.active .dashicons').hasClass('dashicons-portfolio') ) {\r\n\t\t\t\tdisplay_str\t\t= 'display:none;';\r\n\t\t\t}\t\t\r\n\t\t\t\t\r\n\t\t} else {\r\n\t\t\ttrashed_str\t\t= 'pprf-not-trashed';\r\n\t\t\tbtnTrashed_str\t= 'pprf-btn-not-trashed';\r\n\t\t\tif( jQuery('#panda-repeater-fields-tabs-' + cpodid + '-' + poditemid + ' .pprf-tab.active .dashicons').hasClass('dashicons-trash') ) {\r\n\t\t\t\tdisplay_str\t\t= 'display:none;';\r\n\t\t\t}\t\t\t\t\r\n\t\t}\r\n\t}\t\r\n\tvar repeated_str\t=\t'';\r\n\tif( repeated_bln == true ){\r\n\t\trepeated_str\t=\t'-repeated';\r\n\t}\r\n\tvar delAct_str \t\t= '';//jQuery('#panda-repeater-fields-' + cpodid + '-' + poditemid + '-' + 'add-new .pprf-trash-btn' ).data('target');\r\n\tvar ids_str\t \t\t= cpodid + '-' + $item_arr['id'] + '-' + poditemid;\r\n\tvar response_str \t= $item_arr['id'];\r\n\tvar title_str\t \t= $item_arr['title'];\r\n\tvar label_str\t\t= '<strong>ID:</strong> ' + response_str + ' <strong>' + $item_arr['pprf_name_label'] + ': </strong> ' + title_str;\r\n\tif( typeof $item_arr['label'] != 'undefined' && $item_arr['label'] != '' ){\r\n\t\tlabel_str\t=\t$item_arr['label'];\r\n\t}\r\n\tvar nextBg_str\t \t= jQuery('#next-bg').data('bg');\r\n\tvar fullUrl_str\t \t= PANDA_PODS_REPEATER_PAGE_URL[0] + 'iframe_id=panda-repeater-edit-' + ids_str + '&podid=' + podid + '&tb=' + cpodid + '&postid=' + postid + '&itemid=' + response_str + '&poditemid=' + poditemid;\t\r\n\tvar html_str   =\t\r\n\t '<li data-id=\"' + response_str + '\" class=\"' + trashed_str + '\" id=\"li-' + ids_str + repeated_str + '\" style=\"' + display_str + '\">' +\r\n\t\t'<div class=\"pprf-row  w100 pprf-left\">' + \r\n\t\t\t'<div class=\"w100 pprf-left\" id=\"pprf-row-brief-' + ids_str + repeated_str + '\">' +\r\n\t\t\t\t'<div class=\"pprf-left pd8 pprf-left-col ' + nextBg_str + ' \">' + label_str + '</div>';\r\n\r\n\tif( repeated_bln == true ){\r\n\t\t\thtml_str   +=\t\r\n\t\t\t\t\t\t'<div class=\"button pprf-right-col center pprf-dismiss-btn ' + delAct_str + ' ' + btnTrashed_str + '\" role=\"button\" data-podid=\"' + podid + '\"  data-postid=\"' + postid + '\"  data-tb=\"' + cpodid + '\"  data-itemid=\"' + response_str + '\"  data-userid=\"' + authorid + '\"  data-iframe_id=\"panda-repeater-edit-' + ids_str + '\"  data-poditemid=\"' + poditemid + '\" data-target=\"' + ids_str + '\" >' + \r\n\t\t\t\t\t\t\t'<span class=\"dashicons dashicons-dismiss pdt6 mgb0 \"></span>' +\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t'</div>' +\t\r\n\t\t\t\t\t\t'<div class=\"pprf-left pd8\">Repeated</div>';\t\t\t\r\n\t} else {\r\n\t\thtml_str   +=\t\t\t\t\r\n\t\t\t\t'<div class=\"button pprf-right-col center pprf-trash-btn ' + delAct_str + ' ' + btnTrashed_str + '\" role=\"button\" data-podid=\"' + podid + '\"  data-postid=\"' + postid + '\"  data-tb=\"' + cpodid + '\"  data-itemid=\"' + response_str + '\"  data-userid=\"' + authorid + '\"  data-iframe_id=\"panda-repeater-edit-' + ids_str + '\"  data-poditemid=\"' + poditemid + '\" data-target=\"' + ids_str + '\" >' + \r\n\t\t\t\t\t'<span class=\"dashicons dashicons-trash pdt6 mgb0 \"></span>' +\r\n\t\t\t\t\t'<div id=\"panda-repeater-trash-' + ids_str + '-loader\" class=\"pprf-left hidden mgl5\">' +\r\n\t\t\t\t\t\t'<img src = \"' + PANDA_PODS_REPEATER_URL[0] + '/images/dots-loading.gif\" alt=\"loading\" class=\"mgl8 loading pprf-left\"/>' +\r\n\t\t\t\t\t'</div>' +\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t'</div>' +\t\r\n\t\t\t\t'<div class=\"button pprf-right-col center pprf-save-btn\" role=\"button\" data-podid=\"' + podid + '\"  data-postid=\"' + postid + '\"  data-tb=\"' + cpodid + '\"  data-itemid=\"' + response_str + '\"  data-userid=\"' + authorid + '\"  data-iframe_id=\"panda-repeater-edit-' + ids_str + '\" data-poditemid=\"' + poditemid + '\" data-target=\"' + ids_str + '\" >' +\r\n\t\t\t\t\t'<img src = \"' + PANDA_PODS_REPEATER_URL[0] + 'images/save-icon-tran.png\" class=\"pprf-save-icon  mgt8 mgb2\"/>' + \t\r\n\t\t\t\t\t'<div id=\"panda-repeater-save-' + ids_str + '-loader\" class=\"pprf-left hidden mgl5\">' +\r\n\t\t\t\t\t\t'<img src = \"' + PANDA_PODS_REPEATER_URL[0] + 'images/dots-loading.gif\" alt=\"loading\" class=\"mgl8 pprf-left\"/>' +\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t'</div>' +\r\n\t\t\t\t'</div>' +\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t'<div class=\"button pprf-edit pprf-row-load-iframe alignright pprf-right-col center pprf-edit-btn\" role=\"button\" data-target=\"' + ids_str + '\" data-url=\"' + fullUrl_str + '\">' +\r\n\t\t\t\t\t'<span class=\"dashicons ' + editIcon_str + ' pdt8 mgb0 pprf-edit-span\"></span>' +\r\n\t\t\t\t\t'<div id=\"panda-repeater-edit-' + ids_str + '-loader\" class=\"pprf-left hidden mgl5\">' +\r\n\t\t\t\t\t\t'<img src = \"' + PANDA_PODS_REPEATER_URL[0] + '/images/dots-loading.gif\" alt=\"loading\" class=\"mgl9 pprf-left\"/>' +\r\n\t\t\t\t\t'</div>\t' +\r\n\t\t\t\t'</div>';\r\n\t}\r\n\thtml_str   +=\t\t\t\t\t\t\t\t\r\n\t\t\t'</div>' +\t\t\t\t\t\t\t\t\t\t   \r\n\t\t\t'<div>' + \r\n\t\t\t\t'<iframe id=\"panda-repeater-edit-' + ids_str + '\" frameborder=\"0\" scrolling=\"no\" src=\"\" style=\"display:none; \" class=\"panda-repeater-iframe w100\"></iframe>' + \r\n\t\t\t\t'<div id=\"panda-repeater-edit-expand-' + ids_str + '\" class=\"w100 pprf-left center pdt3 pdb3 pprf-expand-bar pprf-edit-expand\" data-target=\"' + ids_str + '\"  style=\"display:none;\">Content missing? Click here to expand</div>' + \r\n\t\t\t'</div>' +\r\n\t   \t  '</div>' +\r\n\t\t'</li>'\r\n\t   ;\r\n\tif( nextBg_str == 'pprf-purple-bg' ){\r\n\t\tjQuery('#next-bg').data('bg', 'pprf-white-bg');\r\n\t} else {\r\n\t\tjQuery('#next-bg').data('bg', 'pprf-purple-bg');\t\t\t\t\t\t\r\n\t}\t   \r\n\treturn html_str;   \r\n}\r\n/**\r\n * delete an item\r\n */\r\nfunction pprf_delete_item( podid, postid, cpodid, itemid, authorid , iframeid, poditemid, trashed ){\r\n\t\r\n\tif( jQuery.isNumeric( podid ) && jQuery.isNumeric( cpodid ) && jQuery.isNumeric( authorid ) && jQuery.isNumeric( itemid ) && jQuery.isNumeric( poditemid )  ) {\r\n\t\t\r\n\t\tvar para_obj  \t= { 'podid': podid, 'postid': postid, 'cpodid': cpodid, 'itemid' : itemid, 'authorid': authorid, 'poditemid' : poditemid, 'action' : 'admin_pprf_delete_item', 'trash' : trashed, 'security' : ajax_script.nonce };\r\n\t\tvar info_str\t=\t'';\r\n\t\tif( trashed == 0 ){\r\n\t\t\tinfo_str\t=\tstrs_obj.be_restored;\r\n\t\t}\t\t\r\n\t\tif( trashed == 1 ){\r\n\t\t\tinfo_str\t=\tstrs_obj.can_recover;\r\n\t\t}\r\n\t\tif( trashed == 2 ){\r\n\t\t\tinfo_str\t=\tstrs_obj.be_deleted;\r\n\t\t}\r\n\t\t//panda-repeater-edit-13-506 236\r\n\t\tvar data_obj  = para_obj;\r\n\t\tvar passt_bln = confirm( strs_obj.you_sure + ' ' + info_str );\r\n\t\t//$('#overlord').removeClass('hidden');\t\t\r\n\t\t\r\n\t\tif( passt_bln == true  ){\r\n\r\n\t\t\tif( trashed == 0 ){\r\n\t\t\t\tjQuery( '#panda-repeater-edit-' + cpodid + '-' + itemid + '-' + poditemid + '-loader' ).removeClass('hidden');\r\n\t\t\t} else {\t\t\t\t \r\n\t\t\t\tjQuery( '#panda-repeater-trash-' + cpodid + '-' + itemid + '-' + poditemid + '-loader' ).removeClass('hidden');\r\n\t\t\t}\r\n\t\t\t//jQuery( '#pprf-row-brief-' + cpodid + '-' + itemid + '-' + poditemid + ' .pprf-trash-btn .dashicons-trash' ).remove( );\r\n\t\t\tjQuery.post(\r\n\t\t\t\tajax_script.ajaxurl, \r\n\t\t\t\tdata_obj, \r\n\t\t\t\tfunction( response_arr ){\t\r\n\t\t\t\t\tif( response_arr['success'] === true  ){\r\n\t\t\t\t\t\tvar rsp_arr = response_arr['data'];\r\n\t\t\t\t\t\tif( rsp_arr.length != 0 ){\r\n\t\t\t\t\t\t\tvar ids_str\t=\tcpodid + '-' + itemid + '-' + poditemid;\r\n\t\t\t\t\t\t\tvar exp_str\t\t= 'panda-repeater-edit-expand-' + ids_str;\r\n\t\t\t\t\t\t\tvar iframe_str \t= 'panda-repeater-edit-' + ids_str;\t\t\r\n\r\n\t\t\t\t\t\t\tif( trashed == 0 ){\r\n\t\t\t\t\t\t\t\tjQuery( '#panda-repeater-edit-' + cpodid + '-' + itemid + '-' + poditemid + '-loader' ).addClass('hidden');\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tjQuery( '#panda-repeater-trash-' + cpodid + '-' + itemid + '-' + poditemid + '-loader' ).addClass('hidden');\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t//jQuery( '#panda-repeater-fields-' + cpodid + '-' + poditemid + ' #' + iframeid ).remove( );\r\n\t\t\t\t\t\t\tif( trashed == 0 ){\r\n\t\t\t\t\t\t\t\tjQuery( '#panda-repeater-fields-' + cpodid + '-' + poditemid + ' .pprf-redorder-list li[data-id=\"' + itemid + '\"] .pprf-row-load-iframe .pprf-edit-span').removeClass('dashicons-update');\r\n\t\t\t\t\t\t\t\tjQuery( '#panda-repeater-fields-' + cpodid + '-' + poditemid + ' .pprf-redorder-list li[data-id=\"' + itemid + '\"] .pprf-row-load-iframe .pprf-edit-span').addClass('dashicons-edit')\r\n\t\t\t\t\t\t\t\tjQuery( '#panda-repeater-fields-' + cpodid + '-' + poditemid + ' .pprf-redorder-list li[data-id=\"' + itemid + '\"]' ).removeClass('pprf-trashed');\r\n\t\t\t\t\t\t\t\tjQuery( '#panda-repeater-fields-' + cpodid + '-' + poditemid + ' .pprf-redorder-list li[data-id=\"' + itemid + '\"]' ).addClass('pprf-not-trashed');\r\n\t\t\t\t\t\t\t\tjQuery( '#panda-repeater-fields-' + cpodid + '-' + poditemid + ' .pprf-redorder-list li[data-id=\"' + itemid + '\"]' ).css('display', 'none');\t\r\n\t\t\t\t\t\t\t\tjQuery( '#panda-repeater-fields-' + cpodid + '-' + poditemid + ' .pprf-redorder-list li[data-id=\"' + itemid + '\"] .pprf-trash-btn').addClass('pprf-btn-not-trashed');\t\r\n\t\t\t\t\t\t\t\tjQuery( '#panda-repeater-fields-' + cpodid + '-' + poditemid + ' .pprf-redorder-list li[data-id=\"' + itemid + '\"] .pprf-trash-btn').removeClass('pprf-btn-trashed');\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tif( jQuery.trim( jQuery('#' + iframe_str  ).contents().find(\"body\").html() ) != '' ) {\r\n\t\t\t\t\t\t\t\t\tjQuery( '#panda-repeater-fields-' + cpodid + '-' + poditemid + ' .pprf-redorder-list li[data-id=\"' + itemid + '\"] .pprf-save-btn .pprf-save-icon').attr('src', PANDA_PODS_REPEATER_URL[0] + 'images/save-icon.png');\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif( trashed == 1 ){\r\n\r\n\r\n\t\t\t\t\t\t\t\tif( jQuery('#' + iframe_str  ) != 'undefined' ){\r\n\t\t\t\t\t\t\t\t\tjQuery('#' + iframe_str ).hide();\t\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tif( jQuery('#' + exp_str  ) != 'undefined' ){\r\n\t\t\t\t\t\t\t\t\tjQuery('#' + exp_str ).hide();\t\r\n\t\t\t\t\t\t\t\t}\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tjQuery('#pprf-row-brief-' + ids_str + ' .dashicons' ).removeClass('dashicons-arrow-up');\r\n\t\t\t\t\t\t\t\tjQuery('#pprf-row-brief-' + ids_str + ' .dashicons' ).addClass('dashicons-edit');\t\t\t\t\t\t\t\r\n\r\n\t\t\t\t\t\t\t\tjQuery( '#panda-repeater-fields-' + cpodid + '-' + poditemid + ' .pprf-redorder-list li[data-id=\"' + itemid + '\"]' ).removeClass('pprf-not-trashed');\r\n\t\t\t\t\t\t\t\tjQuery( '#panda-repeater-fields-' + cpodid + '-' + poditemid + ' .pprf-redorder-list li[data-id=\"' + itemid + '\"]' ).addClass('pprf-trashed');\r\n\t\t\t\t\t\t\t\tjQuery( '#panda-repeater-fields-' + cpodid + '-' + poditemid + ' .pprf-redorder-list li[data-id=\"' + itemid + '\"]' ).css('display', 'none');\r\n\t\t\t\t\t\t\t\tjQuery( '#panda-repeater-fields-' + cpodid + '-' + poditemid + ' .pprf-redorder-list li[data-id=\"' + itemid + '\"] .pprf-row-load-iframe .pprf-edit-span' ).addClass('dashicons-update');\r\n\t\t\t\t\t\t\t\tjQuery( '#panda-repeater-fields-' + cpodid + '-' + poditemid + ' .pprf-redorder-list li[data-id=\"' + itemid + '\"] .pprf-row-load-iframe .pprf-edit-span' ).removeClass('dashicons-edit');\r\n\t\t\t\t\t\t\t\tjQuery( '#panda-repeater-fields-' + cpodid + '-' + poditemid + ' .pprf-redorder-list li[data-id=\"' + itemid + '\"] .pprf-trash-btn').addClass('pprf-btn-trashed');\t\r\n\t\t\t\t\t\t\t\tjQuery( '#panda-repeater-fields-' + cpodid + '-' + poditemid + ' .pprf-redorder-list li[data-id=\"' + itemid + '\"] .pprf-trash-btn').removeClass('pprf-btn-not-trashed');\t\r\n\t\t\t\t\t\t\t\tjQuery( '#panda-repeater-fields-' + cpodid + '-' + poditemid + ' .pprf-redorder-list li[data-id=\"' + itemid + '\"] .pprf-save-btn .pprf-save-icon').attr('src', PANDA_PODS_REPEATER_URL[0] + 'images/save-icon-tran.png');\r\n\t\t\t\t\t\t\t\t\r\n\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif( trashed == 2 ){\t\r\n\t\t\t\t\t\t\t\tjQuery( '#panda-repeater-fields-' + cpodid + '-' + poditemid + ' #' + iframeid ).parent().parent().remove( );\r\n\t\t\t\t\t\t\t\tjQuery( '#panda-repeater-fields-' + cpodid + '-' + poditemid + ' .pprf-redorder-list li[data-id=\"' + itemid + '\"]' ).remove( );\r\n\t\t\t\t\t\t\t\t// if entries limit, toggle the add new \r\n\t\t\t\t\t\t\t\tvar itemsLeft_int\t= jQuery('#panda-repeater-fields-' + cpodid + '-' + poditemid + ' > .pprf-redorder-list > li').length;\r\n\t\t\t\t\t\t\t\tvar limit_int\t=\tparseInt( jQuery( '#panda-repeater-fields-' + cpodid + '-' + poditemid + '-entry-limit' ).val() );\r\n\t\t\t\t\t\t\t\tif( limit_int != 0 && itemsLeft_int < limit_int ){\r\n\t\t\t\t\t\t\t\t\tjQuery( '#panda-repeater-fields-' + cpodid + '-' + poditemid + '-add-new' ).removeClass('hidden');\t\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t}\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t// integrate with simpods js\r\n\t\t\t\t\t\t\t\tif( typeof call_simpods !== 'undefined' && jQuery.isFunction( call_simpods ) ) {\r\n\t\t\t\t\t\t\t\t\tcall_simpods( response_arr );\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t//document.getElementById( iframeid ).contentWindow.pprf_resize_window() ;\r\n\t\t\t\t\t\t\t pprf_odd_even_color( cpodid + '-' + poditemid );\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t);\t\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n}\r\n//jQuery('.pprf-redorder-btn').click( function(){\r\njQuery( document ).on('click', '.pprf-redorder-btn',\tfunction( evt ){\t\t\r\n\tvar id = jQuery( this ).data('id');\r\n\tjQuery( this ).addClass('hidden');\t\r\n\tjQuery( this ).parent().children('.pprf-save-redorder-btn').removeClass('hidden');\t\r\n\tjQuery( this ).parent().children('.pprf-redorder-list-wrap').removeClass('hidden');\r\n\tjQuery( this ).parent().children('.pprf-row').addClass('hidden');\t\r\n\tjQuery( '#' + id + '-add-new' ).addClass('hidden');\t\r\n});\r\n\r\n//jQuery('.pprf-save-redorder-btn').click( function(){\r\njQuery( document ).on('click', '.pprf-save-redorder-btn',\tfunction( evt ){\t\r\n\tvar id = jQuery( this ).data('id');\r\n\tjQuery( this ).addClass('hidden');\t\r\n\tjQuery( this ).parent().children('.pprf-redorder-list-wrap').addClass('hidden');\t\r\n\tjQuery( this ).parent().children('.pprf-save-redorder-btn').addClass('hidden');\r\n\tjQuery( this ).parent().children('.pprf-redorder-btn').removeClass('hidden');\r\n\tjQuery( this ).parent().children('.pprf-row').removeClass('hidden');\t\r\n\tjQuery( '#' + id + '-add-new' ).removeClass('hidden');\t\r\n});\r\n /**\r\n  * load more\r\n  */\r\n//jQuery('.pprf-load-more-btn').click( function( evt ){\r\njQuery( document ).on('click', '.pprf-load-more-btn',\tfunction( evt ){\r\n\tevt.preventDefault();\r\n\tjQuery( '#pprf-load-more-wrap-' + jQuery( this ).data('target') + ' .pprf-ajax-img').css('display', 'block');\r\n\t\r\n\r\n\tpprf_load_more( jQuery( this).data('target'), jQuery( this ) );\r\n\r\n})\t  \r\n\r\nfunction pprf_load_more( target_str, ele_obj ){\r\n\tvar loaded_arr\t=\tnew Array();\r\n\tjQuery( '#panda-repeater-fields-' + target_str + ' .pprf-redorder-list li' ).each( function( idx_int ) {\r\n\t\tloaded_arr[ idx_int ] = parseInt( jQuery( this ).data('id') );\r\n\t});\r\n\t\r\n\tvar data_obj = {\r\n\t\taction \t\t: \t'admin_pprf_load_more',\r\n\t\tloaded \t\t:\tloaded_arr, \r\n\t\tsecurity \t: \tajax_script.nonce,\r\n\t\tpod_id\t\t: \tele_obj.data('podid'),\r\n\t\tpost_id\t\t: \tele_obj.data('postid'),\r\n\t\tsaved_tb\t: \tele_obj.data('tb'),\r\n\t\tiframe_id \t: \tele_obj.data('iframe_id'),\r\n\t\tpod_item_id\t: \tele_obj.data('poditemid'),\r\n\t\tauthorid\t: \tele_obj.data('userid'),\r\n\t\tcp_title\t: \tele_obj.data('cptitle'),\r\n\t\ttrashable\t: \tele_obj.data('enable-trash'),\r\n\t\torder\t\t: \tele_obj.data('order'),\r\n\t\torder_by\t: \tele_obj.data('order-by'),\r\n\t\tamount\t\t: \tjQuery('#panda-repeater-amount-' + target_str ).val(),\r\n\t\tstart\t\t: \tjQuery('#panda-repeater-start-from-' + target_str ).val()\r\n\t};\r\n\tjQuery( '#pprf-load-more-wrap-' + target_str + ' .pprf-load-more-report' ).text( '' );\r\n\tjQuery.post(\r\n\t\tajax_script.ajaxurl, \r\n\t\tdata_obj, \r\n\t\tfunction( response_obj ){\r\n\t\t\tvar html_str\t=\t'';\r\n\t\t\tif( response_obj.success == true ){\r\n\t\t\t\tvar trashed_count\t\t=\t0;\r\n\t\t\t\t//var not_trashed_count\t=\t0;\r\n\t\t\t\tfor( var i = 0; i < response_obj.data.length; i ++ ){\t\r\n\t\t\t\t\tvar repeated_bln\t=\tfalse;\r\n\r\n\t\t\t\t\tif( jQuery( '#pprf-load-more-wrap-' + target_str + ' .panda-repeater-to-load' ).val() == 'append_to' ){ // only need to check repeatition if it is on Append To.\r\n\t\t\t\t\t\tfor( var j = 0; j < loaded_arr.length; j ++ ){\t//inArry doesn't work\r\n\t\t\t\t\t\t\tif( parseInt( response_obj.data[ i ]['id'] ) == loaded_arr[ j ] ){\r\n\t\t\t\t\t\t\t\trepeated_bln\t=\ttrue;\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t}\t\t\t\t\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\r\n\t\t\t\t\thtml_str += pprf_build_item_html( response_obj.data[ i ], data_obj.pod_id, data_obj.post_id, data_obj.saved_tb, data_obj.authorid , data_obj.iframe_id, data_obj.pod_item_id, data_obj.cp_title, repeated_bln )\r\n\t\t\t\t\tif( response_obj.data[ i ]['trashed'] == 1 ){\r\n\t\t\t\t\t\ttrashed_count ++;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tvar info_str\t=\tresponse_obj.data.length;\r\n\t\t\t\tif( data_obj.trashable == 1 ){\r\n\t\t\t\t\tinfo_str\t=\t( parseInt( response_obj.data.length ) - trashed_count ) + ' published, ' + trashed_count + ' trashed.';\r\n\t\t\t\t}\r\n\t\t\t\tif( jQuery( '#pprf-load-more-wrap-' + target_str + ' .panda-repeater-to-load' ).val() == 'append_to' ){\r\n\t\t\t\t\tjQuery( '#panda-repeater-fields-' + data_obj.saved_tb + '-' + data_obj.pod_item_id + ' .pprf-redorder-list' ).append( html_str ); \r\n\t\t\t\t} else {\r\n\t\t\t\t\tjQuery( '#panda-repeater-fields-' + data_obj.saved_tb + '-' + data_obj.pod_item_id + ' .pprf-redorder-list' ).html( html_str ); \r\n\t\t\t\t}\r\n\t\t\t\tpprf_odd_even_color( data_obj.saved_tb + '-' + data_obj.pod_item_id );\r\n\t\t\t\tjQuery( '#pprf-load-more-wrap-' + target_str + ' .pprf-ajax-img').css('display', 'none');\r\n\r\n\t\t\t\tif( response_obj.data.length != 0 ){\r\n\t\t\t\t\tjQuery('#panda-repeater-start-from-' + target_str ).val( parseInt( data_obj.start ) + parseInt( response_obj.data.length ) );\r\n\t\t\t\t}\r\n\r\n\t\t\t\tjQuery( '#pprf-load-more-wrap-' + target_str + ' .pprf-load-more-report' ).text( ' | Loaded ' + info_str );\r\n\t\t\t}\r\n\r\n\t\t\t//pprf_build_item_html( $item_arr, podid, postid, cpodid, authorid , iframeid, poditemid, parentName )\r\n\t\t\t//pprf_new( ele_obj.data('podid'), ele_obj.data('postid'), ele_obj.data('tb'), ele_obj.data('userid'), ele_obj.data('iframe_id'), ele_obj.data('pod_item_id'), ele_obj.data('cptitle') );\r\n\r\n\t\t}\r\n\t);\r\n}\t\r\n/**\r\n * reset colours for each row\r\n */\r\n\r\nfunction pprf_odd_even_color( ids ){\r\n\r\n\tjQuery( '#panda-repeater-fields-' + ids + ' .pprf-left-col').removeClass('pprf-purple-bg');\r\n\tjQuery( '#panda-repeater-fields-' + ids + ' .pprf-left-col').removeClass('pprf-white-bg');\r\n\t\r\n\tif( jQuery( '#panda-repeater-fields-tabs-' + ids ).length == 0 ){\r\n\t\t\r\n\t\tjQuery( '#panda-repeater-fields-' + ids + ' .pprf-left-col').each( function( idx ) {\r\n\t\t\tif( idx % 2 == 0 ){\r\n\t\t\t\tjQuery( this ).addClass('pprf-white-bg');\r\n\t\t\t} else {\r\n\t\t\t\tjQuery( this ).addClass('pprf-purple-bg');\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\tjQuery( '#panda-repeater-fields-' + ids + ' .pprf-not-trashed').each( function( idx ) {\r\n\t\tif( idx % 2 == 0 ){\r\n\t\t\tjQuery( this ).children('.pprf-row').children().children('.pprf-left-col').addClass('pprf-white-bg');\r\n\t\t} else {\r\n\t\t\tjQuery( this ).children('.pprf-row').children().children('.pprf-left-col').addClass('pprf-purple-bg');\r\n\t\t}\r\n\t});\r\n\tjQuery( '#panda-repeater-fields-' + ids + ' .pprf-trashed').each( function( idx ) {\r\n\t\tif( idx % 2 == 0 ){\r\n\t\t\tjQuery( this ).children('.pprf-row').children().children('.pprf-left-col').addClass('pprf-white-bg');\r\n\t\t} else {\r\n\t\t\tjQuery( this ).children('.pprf-row').children().children('.pprf-left-col').addClass('pprf-purple-bg');\r\n\t\t}\r\n\t});\t\r\n}\r\n/**\r\n * if reassigned successfully, remove the item and reset colours\r\n */\r\nfunction pprf_reassign( cpodid, poditemid, itemid ){\r\n\t//console.log( cpodid, poditemid, itemid );\r\n\tjQuery( '#panda-repeater-fields-' + cpodid + '-' + poditemid + ' .pprf-redorder-list li[data-id=\"' + itemid + '\"]' ).remove( );\r\n\t//document.getElementById( iframeid ).contentWindow.pprf_resize_window() ;\r\n\tpprf_odd_even_color( cpodid + '-' + poditemid );\r\n}\r\njQuery(document).ready( function($) {\r\n\t\t\r\n\t/**\r\n\t * fix_helper_modified for drag and drop\r\n\t */\r\n\tvar fix_helper_modified = function(e, tr) {\r\n\t\tvar $originals = tr.children();\r\n\t\tvar $helper = tr.clone();\r\n\t\t$helper.children().each(function(index) {\r\n\t\t\t$(this).width($originals.eq(index).width());\t\t\t\t\t\r\n\t\t});\r\n\t\t\r\n\t\treturn $helper;\r\n\t},\r\n\tupdate_index = function(e, ui) {\r\n\t\tvar the_order = $(this).sortable('toArray');\r\n\r\n\t\tvar data_obj = {\r\n\t\t\taction:   'admin_pprf_update_order',\r\n\t\t\torder: \t  the_order, \r\n\t\t\tsecurity : ajax_script.nonce\r\n\t\t};\r\n\r\n\t\t$.post(\r\n\t\t\tajax_script.ajaxurl, \r\n\t\t\tdata_obj, \r\n\t\t\tfunction( resp_arr ){\t\t\t\t\r\n\t\t\t\tpprf_odd_even_color( resp_arr.data.pprf_id );\r\n\t\t\t}\r\n\t\t)\t\t\t\t\r\n\t};\t\r\n\r\n\tif( $('.pprf-redorder-list.pandarf_order').length != 0 ){\r\n\t\t$('.pprf-redorder-list.pandarf_order').sortable({\r\n\t\t\thelper: fix_helper_modified,\r\n\t\t\tcursor:         'move',\r\n\t\t\topacity:        0.7,\r\n\t\t\ttolerance:      'intersect',\t\t\r\n\t\t\tupdate: \t\tupdate_index,\r\n\t\t\tcancel: \t\t'.pprf-row-load-iframe, .pprf-save-btn, pprf-trash-btn',\r\n\t\t\thandle: \t\t'.pprf-left-col'\r\n\t\t});\t\t\r\n\t}\r\n\r\n\t$(document.body).on('click', '.pprf-row-load-iframe', function( e ){\t\r\n\t\te.stopPropagation();\r\n\t\tvar url_str    \t= $( this ).data('url');\r\n\t\tvar ids_str\t   \t= $( this ).data('target');\r\n\t\tvar exp_str\t\t= 'panda-repeater-edit-expand-' + ids_str;\r\n\t\tvar iframe_str \t= 'panda-repeater-edit-' + ids_str;\t\t\r\n\t\tvar trash_ele\t= $( this ).parent().children('.pprf-trash-btn');\r\n\t\tif( $( this ).children('.pprf-edit-span').hasClass('dashicons-update') ){ \r\n\t\t\t// restore this item\t\t\r\n\t\t\tpprf_delete_item( trash_ele.data('podid'), trash_ele.data('postid'), trash_ele.data('tb'), trash_ele.data('itemid'), trash_ele.data('userid'), trash_ele.data('iframe_id'), trash_ele.data('poditemid'), 0 );\r\n\t\t} else { \r\n\t\t\tvar addEdit_str\t= ' .pprf-edit';\t\r\n\t\t\tif( $( this ).hasClass('pprf-add') ){\r\n\t\t\t\taddEdit_str\t= '.pprf-add';\t\r\n\t\t\t\tiframe_str \t= 'panda-repeater-add-new-' + ids_str;\r\n\t\t\t\texp_str\t\t= 'panda-repeater-add-new-expand-' + ids_str;\r\n\t\t\t}\t\r\n\t\t\t\r\n\t\t\tif( $('#pprf-row-brief-' + ids_str + ' .dashicons' ).hasClass('dashicons-edit') ){\t\t\r\n\t\t\t\t\r\n\t\t\t\t//if iframe not loaded\r\n\t\t\t\t\r\n\t\t\t\tif( $('#' + iframe_str ).attr('src') == '' ){\r\n\t\t\t\t\t$('#' + iframe_str ).attr('src', url_str ); \r\n\t\t\t\t\t$('#' + iframe_str + '-' + 'loader' ).removeClass('hidden');\t\t\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t$('#' + iframe_str ).show('slow',function(){\r\n\t\t\t\t\t$('#pprf-row-brief-' + ids_str + '' + addEdit_str + ' .dashicons' ).addClass('dashicons-arrow-up');\r\n\t\t\t\t\t$('#pprf-row-brief-' + ids_str + '' + addEdit_str + ' .dashicons' ).removeClass('dashicons-edit');\t\t\r\n\t\t\t\t});\r\n\t\t\t\t$('#' + exp_str ).show();\t\r\n\t\t\t\t$('#' + iframe_str ).on('load', function(){\r\n\t\t\t\t\t\r\n\t\t\t\t\t$('#' + iframe_str + '-' + 'loader' ).addClass('hidden');\t\r\n\t\t\t\t\t//change icon\t\r\n\t\t\t\t\t$('#panda-repeater-save-' + ids_str + '-' + 'loader' ).parent().children('.pprf-save-icon').attr('src', PANDA_PODS_REPEATER_URL[0] + '/images/save-icon.png');\r\n\t\t\t\t\t$('#panda-repeater-save-' + ids_str + '-' + 'loader' ).parent().addClass('pprf-btn-ready');\r\n\t\t\t\t\t$('#panda-repeater-save-' + ids_str + '-' + 'loader' ).addClass('hidden');\r\n\t\t\t\t\t//$('#pprf-row-brief-' + ids_str + '' ).addClass('hidden');\t\r\n\t\t\t\t\t//$('#' + iframe_str )[0].contentWindow.pprf_resize_window();\r\n\t\t\t\t\t//console.log( $(this).parent().height() );\r\n\t\t\t\t\t$('#pprf-row-brief-' + ids_str + '' + addEdit_str + ' .dashicons' ).addClass('dashicons-arrow-up');\r\n\t\t\t\t\t$('#pprf-row-brief-' + ids_str + '' + addEdit_str + ' .dashicons' ).removeClass('dashicons-edit');\t\t\t\t\t\t\r\n\t\t\t\t});\t\r\n\t\t\t//\tif( $('#pprf-row-brief-' + ids_str + ' .dashicons' ).hasClass('dashicons') ){\t\r\n\r\n\t\t\t\t//}\r\n\t\t\t} else {\r\n\t\t\t\t\r\n\t\t\t\t$('#' + iframe_str ).hide('slow',function(){\r\n\t\t\t\t\t$('#pprf-row-brief-' + ids_str + '' + addEdit_str + ' .dashicons' ).removeClass('dashicons-arrow-up');\r\n\t\t\t\t\t$('#pprf-row-brief-' + ids_str + '' + addEdit_str + ' .dashicons' ).addClass('dashicons-edit');\t\r\n\t\t\t\t});\t\r\n\t\t\t\t$('#' + exp_str ).hide();\t\t\t\t\t\r\n\t\t\t//\tif( $('#pprf-row-brief-' + ids_str + ' .dashicons' ).hasClass('dashicons') ){\t\r\n\t\t\t\t\t\t\r\n\t\t\t//\t}\r\n\t\t\t}\r\n\t\t\t$('#pprf-row-brief-' + ids_str + ' .dashicons-trash' ).removeClass('dashicons-arrow-up');\r\n\t\t}\r\n\t\t\r\n\t});\t\r\n\t/**\r\n\t * click to explan its iframe\r\n\t */\t\r\n\t$( document.body ).on('click', '.pprf-expand-bar', function(){\t\t\t\t\r\n\t\tvar ids\t   \t= $( this ).data('target');\r\n\t\tvar iframe \t= 'panda-repeater-edit-' + ids;\r\n\t\tif( $( this ).hasClass('pprf-add-expand') ){\r\n\t\t\tiframe \t= 'panda-repeater-add-new-' + ids;\t\t\t\r\n\t\t}\t\r\n\t\tif( typeof document.getElementById( iframe ) != 'undefined' ){\r\n\t\t\t\r\n\t\t\tif( typeof document.getElementById( iframe ).contentWindow.pprf_resize_window != 'undefined' ){ \r\n\t\t\t\tdocument.getElementById( iframe ).contentWindow.pprf_resize_window();\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\t/**\r\n\t * click to delete\r\n\t */\t \r\n\t$( document.body ).on('click', '.pprf-trash-btn', function( e ){\t\t\r\n\t\te.stopPropagation();\r\n\t\tvar ids\t   \t= $( this ).data('target');\r\n\t\tvar iframe \t= 'panda-repeater-edit-' + ids;\r\n\t\tif( $( this ).hasClass('pprf-add-expand') ){\r\n\t\t\tiframe \t= 'panda-repeater-add-new-' + ids;\t\t\t\r\n\t\t}\t\r\n\t\tvar trash\t= 0;\r\n\t\tif( $( this ).hasClass('pprf-btn-not-trashed') ){\r\n\t\t\ttrash\t= 1;\r\n\t\t}\r\n\t\tif( $( this ).hasClass('pprf-btn-trashed') ){\r\n\t\t\ttrash\t= 2;\r\n\t\t}\t\r\n\t\tif( $( this ).hasClass('pprf-btn-delete') ){\r\n\t\t\ttrash\t= 2;\r\n\t\t}\t\t\t\t\t\t\r\n\t\tpprf_delete_item( $( this ).data('podid'), $( this ).data('postid'), $( this ).data('tb'), $( this ).data('itemid'), $( this ).data('userid'), $( this ).data('iframe_id'), $( this ).data('poditemid'), trash );\r\n\t })\r\n\t \t \r\n\t$(document.body).on('click', '.pprf-save-btn', function( e ){\t\t\r\n\t\t e.stopPropagation();\t\r\n\t\t if( $( this ).hasClass( 'pprf-btn-ready' ) ){\r\n\t\t\tvar ids\t\t= $( this ).data('target');\r\n\t\t\tvar iframe \t= 'panda-repeater-edit-' + ids;\r\n\t\t\tif( $( this ).hasClass('pprf-save-new-btn') ){\r\n\t\t\t\tiframe \t= 'panda-repeater-add-new-' + ids;\r\n\t\t\t}\t\t\t \r\n\t\t\t$('#panda-repeater-save-' + ids + '-loader' ).removeClass('hidden');\r\n\t\t\t\r\n\t\t\t$('#' + iframe ).contents().find('.pods-submit-button').trigger( \"click\" );\t\r\n\t\t\tpprf_is_changed\t=\tfalse;\t\t\r\n\r\n\t\t }\r\n\t });\r\n\t /**\r\n\t  * if a pods is is clicked, flag it as saved\r\n\t  */\r\n\t $('.toplevel_page_panda-pods-repeater-field .pods-field-input').on('click keyup change', function(){\r\n\t\t pprf_is_changed\t=\ttrue;\r\n\t });\r\n\r\n\r\n\t$( document ).on('click', '#publishing-action .button, #save-action .button', function(){\t\t\t\t\r\n\t\t  if( pprf_is_changed ){\r\n\t\t\tevt.preventDefault();\r\n\t\t\tvar leave = confirm( strs_obj.Ignore_changes );\r\n\t\t\tif ( leave == true){\r\n\t\t\t\tpprf_is_changed\t=\tfalse;\r\n\t\t\t\t//$( this ).click();\r\n\t\t\t\t$( this ).trigger('click');\r\n\t\t\t} \r\n\t\t\tif ( leave == false){\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t  }\r\n\t });\r\n\r\n\t /**\r\n\t  * toggle trashed and current\r\n\t  */\t\r\n\t$(document.body).on('click', '.pprf-tab .dashicons-trash', function(){\t\t\t\r\n\t \t\r\n\t \t$( '#panda-repeater-fields-' + $( this).parent().data('target') + ' .pprf-trashed').css('display', 'block');\r\n\t \t$( '#panda-repeater-fields-' + $( this).parent().data('target') + ' .pprf-not-trashed').css('display', 'none');\r\n\t \t$( this ).parent().parent().children('.active').removeClass('active');\r\n\t \t$( this ).parent().addClass('active');\r\n\t \tpprf_odd_even_color( $( this).parent().data('target') );\r\n\r\n\t})\t\r\n\t$(document.body).on('click', '.pprf-tab .dashicons-portfolio', function(){\t\t\t\r\n\t \t$( '#panda-repeater-fields-' + $( this).parent().data('target') + ' .pprf-trashed').css('display', 'none');\r\n\t \t$( '#panda-repeater-fields-' + $( this).parent().data('target') + ' .pprf-not-trashed').css('display', 'block');\r\n\t \t$( this ).parent().parent().children('.active').removeClass('active');\r\n\t \t$( this ).parent().addClass('active');\t \t\r\n\t \tpprf_odd_even_color( $( this).parent().data('target') );\r\n\t})\t \r\n \r\n \t/**\r\n \t * remove repeated\r\n \t */ \t\r\n \t$(document.body).on('click', '.pprf-dismiss-btn', function(){\t\r\n \t\t$('#li-' + $( this ).data('target') + '-repeated' ).remove();\r\n \t})\r\n});\r\n \r\nvar pprf_is_changed\t=\tfalse;\t"]}