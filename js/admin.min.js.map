{"version":3,"sources":["admin.js"],"names":["pprf_resize_iframe","obj","style","height","contentWindow","document","body","scrollHeight","pprf_update_iframe_size","x","y","jQuery","animate","pprf_update_size","pprf_original_height","pprf_update_parent_iframe","pprf_parent_height","pprf_new","podid","postid","cpodid","authorid","iframeid","poditemid","parent_name","isNumeric","action","security","ajax_script","nonce","removeClass","post","ajaxurl","data_obj","responses","addClass","response_data","iframe_build","pprf_build_item_html","length","items_left_count","limit_int","parseInt","val","click","items","is_repeated","trashed_css","btn_trashed_css","display_style","edit_icon_css","data","hasClass","repeated_css_append","ids_in_css","the_label","next_background_css","full_url","the_title","responding_id","html_build","PANDA_PODS_REPEATER_PAGE_URL","PANDA_PODS_REPEATER_URL","info_text","trashed","pprf_delete_item","itemid","strs_obj","be_deleted","para_obj","trash","passt_bln","confirm","can_recover","pprf_odd_even_color","contents","hide","css","trim","find","html","attr","exp_str","parent","remove","call_simpods","isFunction","children","trashable","ele_obj","order","order_by","target_str","each","idx_int","amount","this","loaded","pod_id","response_obj","success","post_id","trashed_count","saved_tb","iframe_id","pod_item_id","cp_title","loaded_arr","text","i","j","append","start","ids","idx","$helper","clone","$","index","id","on","evt","preventDefault","pprf_load_more","update_index","sortable","$originals","tr","resp_arr","width","eq","cursor","opacity","addEdit_str","tolerance","update","fix_helper_modified","cancel","handle","e","url_str","pprf_id","stopPropagation","trash_ele","show","getElementById","pprf_resize_window","iframe","pprf_is_changed","Ignore_changes","leave","trigger"],"mappings":"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","file":"admin.min.js","sourcesContent":["function pprf_resize_iframe(obj) {\r\n\tobj.style.height = obj.contentWindow.document.body.scrollHeight + 'px';\r\n\r\n}\r\n\r\nfunction pprf_update_iframe_size( x, y ){\r\n\t\r\n\tif ( x != '' ) {\r\n\t\tjQuery('#' + x).height( jQuery('#' + x).height() ).animate({height: y}, 500);\r\n\t}\r\n}\r\nfunction pprf_update_size( x ){\r\n\t\r\n\tif ( x != '' ) {\r\n\t\tvar pprf_original_height = jQuery( x + ' html #wpbody-content').height() + 60;\r\n\t\r\n\t\tjQuery('#' + x).height( jQuery('#' + x).height() ).animate({height: pprf_original_height }, 500);;\r\n\r\n\t}\r\n}\r\n\r\nfunction pprf_update_parent_iframe( x ){\r\n\t\r\n\tif ( x != '') {\r\n\t\t\r\n\t\tvar y = jQuery('#' + x + ' html #wpbody-content').height();\r\n\t\t// 4px is the small gap at the bottom\r\n\t\tjQuery('#' + x).height( jQuery('#' + x).height() ).animate({height: y }, 500);\r\n\r\n\t}\r\n}\r\nvar pprf_parent_height = jQuery('html').height();\r\n/**\r\n * insert a new row to the page after adding a new item\r\n */\r\nfunction pprf_new( podid, postid, cpodid, authorid , iframeid, poditemid, parent_name ){ \r\n\tif( jQuery.isNumeric( podid ) && jQuery.isNumeric( cpodid ) && jQuery.isNumeric( authorid ) && jQuery.isNumeric( poditemid ) ) {\r\n\t\t\r\n\t\tvar para_obj  = { 'podid': podid, 'postid': postid, 'cpodid': cpodid, 'authorid': authorid, 'poditemid' : poditemid, 'action' : 'admin_pprf_load_newly_added', 'security' : ajax_script.nonce };\r\n\t\r\n\t\tvar data_obj  = para_obj;\r\n\t\t\r\n\t\tjQuery('#panda-repeater-fields-' + cpodid + '-' + poditemid + '-' + 'loader' ).removeClass('hidden');\t\t\t\r\n\t\tjQuery.post(\r\n\t\t\tajax_script.ajaxurl, \r\n\t\t\tdata_obj, \r\n\t\t\tfunction( responses ){\t\r\n\t\t\t\tjQuery('#panda-repeater-fields-' + cpodid + '-' + poditemid + '-' + 'loader' ).addClass('hidden');\t\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\tvar response_data = responses['data'];\t\t\t\t\t\t\t\t\r\n\r\n\t\t\t\t//console.log( response_data );\r\n\t\t\t\tif( responses['success'] === true &&  typeof response_data['id'] !== 'undefined' && jQuery.isNumeric( response_data['id'] ) ){\r\n\r\n\t\t\t\t\tvar\tiframe_build\t\t= pprf_build_item_html( response_data, podid, postid, cpodid, authorid , iframeid, poditemid, parent_name, false );\r\n\t\t\t\t\t\r\n\t\t\t\t\tjQuery( '#panda-repeater-fields-' + cpodid + '-' + poditemid + ' .pprf-redorder-list' ).append( iframe_build ); \r\n\t\t\t\t\t// if entries limit, toggle the add new \r\n\t\t\t\t\tvar items_left_count\t= jQuery('#panda-repeater-fields-' + cpodid + '-' + poditemid + ' > .pprf-redorder-list > li').length;\r\n\t\t\t\t\tvar limit_int\t=\tparseInt( jQuery( '#panda-repeater-fields-' + cpodid + '-' + poditemid + '-entry-limit' ).val() );\r\n\t\t\t\t\tif( limit_int != 0 && items_left_count >= limit_int ){\r\n\t\t\t\t\t\tjQuery( '#panda-repeater-fields-' + cpodid + '-' + poditemid + '-add-new' ).addClass('hidden');\t\t\t\t\t\t\t\r\n\t\t\t\t\t}\t\t\t\t\t\t\r\n\r\n\t\t\t\t}\r\n\t\t\t\t// if add a new one, activeate the live items tab\r\n\t\t\t\tjQuery( '#panda-repeater-fields-tabs-' + cpodid + '-' + poditemid + ' .pprf-tab .dashicons-portfolio').click();\t\r\n\t\t\t\t//jQuery( document ).on('click', '#panda-repeater-fields-tabs-' + cpodid + '-' + poditemid + ' .pprf-tab .dashicons-portfolio' );\r\n\t\t\t\t\r\n\t\t\t\tpprf_odd_even_color( cpodid + '-' + poditemid );\r\n\t\t\t}\r\n\t\t);\t\r\n\t}\r\n}\r\n\r\nfunction pprf_build_item_html( items, podid, postid, cpodid, authorid , iframeid, poditemid, parent_name, is_repeated ){\r\n\tif( typeof items['id'] == 'undefined' || !jQuery.isNumeric( items['id'] ) ){\r\n\t\treturn '';\r\n\t}\r\n//console.log(items);\r\n\tvar trashed_css\t\t= '';\r\n\tvar btn_trashed_css\t= 'pprf-btn-delete';\r\n\tvar display_style\t= '';\r\n\tvar edit_icon_css\t= 'dashicons-edit';\r\n\r\n\tif( jQuery('#panda-repeater-trash-info-' + cpodid + '-' + poditemid ).data('enable-trash') == 1 ){\t\t\r\n\t\tif( typeof items['trashed'] != 'undefined' && items['trashed'] == 1 ){\r\n\t\t\t\r\n\t\t\ttrashed_css \t= 'pprf-trashed';\r\n\t\t\tbtn_trashed_css\t= 'pprf-btn-trashed';\r\n\t\t\t// if the portfolio foder is open, hide the trash one\r\n\t\t\tedit_icon_css\t= 'dashicons-update ';\t\r\n\t\t\tif( jQuery('#panda-repeater-fields-tabs-' + cpodid + '-' + poditemid + ' .pprf-tab.active .dashicons').hasClass('dashicons-portfolio') ) {\r\n\t\t\t\tdisplay_style\t\t= 'display:none;';\r\n\t\t\t}\t\t\r\n\t\t\t\t\r\n\t\t} else {\r\n\t\t\ttrashed_css\t\t= 'pprf-not-trashed';\r\n\t\t\tbtn_trashed_css\t= 'pprf-btn-not-trashed';\r\n\t\t\tif( jQuery('#panda-repeater-fields-tabs-' + cpodid + '-' + poditemid + ' .pprf-tab.active .dashicons').hasClass('dashicons-trash') ) {\r\n\t\t\t\tdisplay_style\t\t= 'display:none;';\r\n\t\t\t}\t\t\t\t\r\n\t\t}\r\n\t}\t\r\n\tvar repeated_css_append\t=\t'';\r\n\tif( is_repeated == true ){\r\n\t\trepeated_css_append\t=\t'-repeated';\r\n\t}\r\n\tvar delete_action \t= '';//jQuery('#panda-repeater-fields-' + cpodid + '-' + poditemid + '-' + 'add-new .pprf-trash-btn' ).data('target');\r\n\tvar ids_in_css\t \t= cpodid + '-' + items['id'] + '-' + poditemid;\r\n\tvar responding_id \t= items['id'];\r\n\tvar the_title\t \t= items['title'];\r\n\tvar the_label\t\t= the_title;\r\n\t//var the_label\t\t= '<strong>ID:</strong> ' + responding_id + ' <strong>' + items['pprf_name_label'] + ': </strong> ' + the_title;\r\n\tif( typeof items['label'] != 'undefined' && items['label'] != '' ){\r\n\t\tthe_label\t=\titems['label'];\r\n\t}\r\n\tvar next_background_css\t= jQuery('#next-bg').data('bg');\r\n\tvar full_url\t \t\t= PANDA_PODS_REPEATER_PAGE_URL[0] + 'iframe_id=panda-repeater-edit-' + ids_in_css + '&podid=' + podid + '&tb=' + cpodid + '&postid=' + postid + '&itemid=' + responding_id + '&poditemid=' + poditemid;\t\r\n\tvar html_build   \t\t=\t\r\n\t '<li data-id=\"' + responding_id + '\" class=\"' + trashed_css + '\" id=\"li-' + ids_in_css + repeated_css_append + '\" style=\"' + display_style + '\">' +\r\n\t\t'<div class=\"pprf-row  w100 pprf-left\">' + \r\n\t\t\t'<div class=\"w100 pprf-left\" id=\"pprf-row-brief-' + ids_in_css + repeated_css_append + '\">' +\r\n\t\t\t\t'<div class=\"pprf-left pd8 pprf-left-col ' + next_background_css + ' \">' + the_label + '</div>';\r\n\r\n\tif( is_repeated == true ){\r\n\t\t\thtml_build   +=\t\r\n\t\t\t\t\t\t'<div class=\"button pprf-right-col center pprf-dismiss-btn ' + delete_action + ' ' + btn_trashed_css + '\" role=\"button\" data-podid=\"' + podid + '\"  data-postid=\"' + postid + '\"  data-tb=\"' + cpodid + '\"  data-itemid=\"' + responding_id + '\"  data-userid=\"' + authorid + '\"  data-iframe_id=\"panda-repeater-edit-' + ids_in_css + '\"  data-poditemid=\"' + poditemid + '\" data-target=\"' + ids_in_css + '\" >' + \r\n\t\t\t\t\t\t\t'<span class=\"dashicons dashicons-dismiss pdt6 mgb0 \"></span>' +\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t'</div>' +\t\r\n\t\t\t\t\t\t'<div class=\"pprf-left pd8\">Repeated</div>';\t\t\t\r\n\t} else {\r\n\t\thtml_build   +=\t\t\t\t\r\n\t\t\t\t'<div class=\"button pprf-right-col center pprf-trash-btn ' + delete_action + ' ' + btn_trashed_css + '\" role=\"button\" data-podid=\"' + podid + '\"  data-postid=\"' + postid + '\"  data-tb=\"' + cpodid + '\"  data-itemid=\"' + responding_id + '\"  data-userid=\"' + authorid + '\"  data-iframe_id=\"panda-repeater-edit-' + ids_in_css + '\"  data-poditemid=\"' + poditemid + '\" data-target=\"' + ids_in_css + '\" >' + \r\n\t\t\t\t\t'<span class=\"dashicons dashicons-trash pdt6 mgb0 \"></span>' +\r\n\t\t\t\t\t'<div id=\"panda-repeater-trash-' + ids_in_css + '-loader\" class=\"pprf-left hidden mgl5\">' +\r\n\t\t\t\t\t\t'<img src = \"' + PANDA_PODS_REPEATER_URL[0] + '/images/dots-loading.gif\" alt=\"loading\" class=\"mgl8 loading pprf-left\"/>' +\r\n\t\t\t\t\t'</div>' +\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t'</div>' +\t\r\n\t\t\t\t'<div class=\"button pprf-right-col center pprf-save-btn\" role=\"button\" data-podid=\"' + podid + '\"  data-postid=\"' + postid + '\"  data-tb=\"' + cpodid + '\"  data-itemid=\"' + responding_id + '\"  data-userid=\"' + authorid + '\"  data-iframe_id=\"panda-repeater-edit-' + ids_in_css + '\" data-poditemid=\"' + poditemid + '\" data-target=\"' + ids_in_css + '\" >' +\r\n\t\t\t\t\t'<img src = \"' + PANDA_PODS_REPEATER_URL[0] + 'images/save-icon-tran.png\" class=\"pprf-save-icon  mgt8 mgb2\"/>' + \t\r\n\t\t\t\t\t'<div id=\"panda-repeater-save-' + ids_in_css + '-loader\" class=\"pprf-left hidden mgl5\">' +\r\n\t\t\t\t\t\t'<img src = \"' + PANDA_PODS_REPEATER_URL[0] + 'images/dots-loading.gif\" alt=\"loading\" class=\"mgl8 pprf-left\"/>' +\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t'</div>' +\r\n\t\t\t\t'</div>' +\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t'<div class=\"button pprf-edit pprf-row-load-iframe alignright pprf-right-col center pprf-edit-btn\" role=\"button\" data-target=\"' + ids_in_css + '\" data-url=\"' + full_url + '\">' +\r\n\t\t\t\t\t'<span class=\"dashicons ' + edit_icon_css + ' pdt8 mgb0 pprf-edit-span\"></span>' +\r\n\t\t\t\t\t'<div id=\"panda-repeater-edit-' + ids_in_css + '-loader\" class=\"pprf-left hidden mgl5\">' +\r\n\t\t\t\t\t\t'<img src = \"' + PANDA_PODS_REPEATER_URL[0] + '/images/dots-loading.gif\" alt=\"loading\" class=\"mgl9 pprf-left\"/>' +\r\n\t\t\t\t\t'</div>\t' +\r\n\t\t\t\t'</div>';\r\n\t}\r\n\thtml_build   +=\t\t\t\t\t\t\t\t\r\n\t\t\t'</div>' +\t\t\t\t\t\t\t\t\t\t   \r\n\t\t\t'<div>' + \r\n\t\t\t\t'<iframe id=\"panda-repeater-edit-' + ids_in_css + '\" frameborder=\"0\" scrolling=\"no\" src=\"\" style=\"display:none; \" class=\"panda-repeater-iframe w100\"></iframe>' + \r\n\t\t\t\t'<div id=\"panda-repeater-edit-expand-' + ids_in_css + '\" class=\"w100 pprf-left center pdt3 pdb3 pprf-expand-bar pprf-edit-expand\" data-target=\"' + ids_in_css + '\"  style=\"display:none;\">Content missing? Click here to expand</div>' + \r\n\t\t\t'</div>' +\r\n\t   \t  '</div>' +\r\n\t\t'</li>'\r\n\t   ;\r\n\tif( next_background_css == 'pprf-purple-bg' ){\r\n\t\tjQuery('#next-bg').data('bg', 'pprf-white-bg');\r\n\t} else {\r\n\t\tjQuery('#next-bg').data('bg', 'pprf-purple-bg');\t\t\t\t\t\t\r\n\t}\t   \r\n\treturn html_build;   \r\n}\r\n/**\r\n * delete an item\r\n */\r\nfunction pprf_delete_item( podid, postid, cpodid, itemid, authorid , iframeid, poditemid, trashed ){\r\n\t\r\n\tif( jQuery.isNumeric( podid ) && jQuery.isNumeric( cpodid ) && jQuery.isNumeric( authorid ) && jQuery.isNumeric( itemid ) && jQuery.isNumeric( poditemid )  ) {\r\n\t\t\r\n\t\tvar para_obj  \t= { 'podid': podid, 'postid': postid, 'cpodid': cpodid, 'itemid' : itemid, 'authorid': authorid, 'poditemid' : poditemid, 'action' : 'admin_pprf_delete_item', 'trash' : trashed, 'security' : ajax_script.nonce };\r\n\t\tvar info_text\t=\t'';\r\n\t\tif( trashed == 0 ){\r\n\t\t\tinfo_text\t=\tstrs_obj.be_restored;\r\n\t\t}\t\t\r\n\t\tif( trashed == 1 ){\r\n\t\t\tinfo_text\t=\tstrs_obj.can_recover;\r\n\t\t}\r\n\t\tif( trashed == 2 ){\r\n\t\t\tinfo_text\t=\tstrs_obj.be_deleted;\r\n\t\t}\r\n\t\t//panda-repeater-edit-13-506 236\r\n\t\tvar data_obj  = para_obj;\r\n\t\tvar passt_bln = confirm( strs_obj.you_sure + ' ' + info_text );\r\n\t\t//$('#overlord').removeClass('hidden');\t\t\r\n\t\t\r\n\t\tif( passt_bln == true  ){\r\n\r\n\t\t\tif( trashed == 0 ){\r\n\t\t\t\tjQuery( '#panda-repeater-edit-' + cpodid + '-' + itemid + '-' + poditemid + '-loader' ).removeClass('hidden');\r\n\t\t\t} else {\t\t\t\t \r\n\t\t\t\tjQuery( '#panda-repeater-trash-' + cpodid + '-' + itemid + '-' + poditemid + '-loader' ).removeClass('hidden');\r\n\t\t\t}\r\n\t\t\t//jQuery( '#pprf-row-brief-' + cpodid + '-' + itemid + '-' + poditemid + ' .pprf-trash-btn .dashicons-trash' ).remove( );\r\n\t\t\tjQuery.post(\r\n\t\t\t\tajax_script.ajaxurl, \r\n\t\t\t\tdata_obj, \r\n\t\t\t\tfunction( responses ){\t\r\n\t\t\t\t\tif( responses['success'] === true  ){\r\n\t\t\t\t\t\tvar response_data = responses['data'];\r\n\t\t\t\t\t\tif( response_data.length != 0 ){\r\n\t\t\t\t\t\t\tvar ids_in_css\t=\tcpodid + '-' + itemid + '-' + poditemid;\r\n\t\t\t\t\t\t\tvar exp_str\t\t= 'panda-repeater-edit-expand-' + ids_in_css;\r\n\t\t\t\t\t\t\tvar iframe_build \t= 'panda-repeater-edit-' + ids_in_css;\t\t\r\n\r\n\t\t\t\t\t\t\tif( trashed == 0 ){\r\n\t\t\t\t\t\t\t\tjQuery( '#panda-repeater-edit-' + cpodid + '-' + itemid + '-' + poditemid + '-loader' ).addClass('hidden');\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tjQuery( '#panda-repeater-trash-' + cpodid + '-' + itemid + '-' + poditemid + '-loader' ).addClass('hidden');\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t//jQuery( '#panda-repeater-fields-' + cpodid + '-' + poditemid + ' #' + iframeid ).remove( );\r\n\t\t\t\t\t\t\tif( trashed == 0 ){\r\n\t\t\t\t\t\t\t\tjQuery( '#panda-repeater-fields-' + cpodid + '-' + poditemid + ' .pprf-redorder-list li[data-id=\"' + itemid + '\"] .pprf-row-load-iframe .pprf-edit-span').removeClass('dashicons-update');\r\n\t\t\t\t\t\t\t\tjQuery( '#panda-repeater-fields-' + cpodid + '-' + poditemid + ' .pprf-redorder-list li[data-id=\"' + itemid + '\"] .pprf-row-load-iframe .pprf-edit-span').addClass('dashicons-edit')\r\n\t\t\t\t\t\t\t\tjQuery( '#panda-repeater-fields-' + cpodid + '-' + poditemid + ' .pprf-redorder-list li[data-id=\"' + itemid + '\"]' ).removeClass('pprf-trashed');\r\n\t\t\t\t\t\t\t\tjQuery( '#panda-repeater-fields-' + cpodid + '-' + poditemid + ' .pprf-redorder-list li[data-id=\"' + itemid + '\"]' ).addClass('pprf-not-trashed');\r\n\t\t\t\t\t\t\t\tjQuery( '#panda-repeater-fields-' + cpodid + '-' + poditemid + ' .pprf-redorder-list li[data-id=\"' + itemid + '\"]' ).css('display', 'none');\t\r\n\t\t\t\t\t\t\t\tjQuery( '#panda-repeater-fields-' + cpodid + '-' + poditemid + ' .pprf-redorder-list li[data-id=\"' + itemid + '\"] .pprf-trash-btn').addClass('pprf-btn-not-trashed');\t\r\n\t\t\t\t\t\t\t\tjQuery( '#panda-repeater-fields-' + cpodid + '-' + poditemid + ' .pprf-redorder-list li[data-id=\"' + itemid + '\"] .pprf-trash-btn').removeClass('pprf-btn-trashed');\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tif( jQuery.trim( jQuery('#' + iframe_build  ).contents().find(\"body\").html() ) != '' ) {\r\n\t\t\t\t\t\t\t\t\tjQuery( '#panda-repeater-fields-' + cpodid + '-' + poditemid + ' .pprf-redorder-list li[data-id=\"' + itemid + '\"] .pprf-save-btn .pprf-save-icon').attr('src', PANDA_PODS_REPEATER_URL[0] + 'images/save-icon.png');\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif( trashed == 1 ){\r\n\r\n\r\n\t\t\t\t\t\t\t\tif( jQuery('#' + iframe_build  ) != 'undefined' ){\r\n\t\t\t\t\t\t\t\t\tjQuery('#' + iframe_build ).hide();\t\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tif( jQuery('#' + exp_str  ) != 'undefined' ){\r\n\t\t\t\t\t\t\t\t\tjQuery('#' + exp_str ).hide();\t\r\n\t\t\t\t\t\t\t\t}\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tjQuery('#pprf-row-brief-' + ids_in_css + ' .dashicons' ).removeClass('dashicons-arrow-up');\r\n\t\t\t\t\t\t\t\tjQuery('#pprf-row-brief-' + ids_in_css + ' .dashicons' ).addClass('dashicons-edit');\t\t\t\t\t\t\t\r\n\r\n\t\t\t\t\t\t\t\tjQuery( '#panda-repeater-fields-' + cpodid + '-' + poditemid + ' .pprf-redorder-list li[data-id=\"' + itemid + '\"]' ).removeClass('pprf-not-trashed');\r\n\t\t\t\t\t\t\t\tjQuery( '#panda-repeater-fields-' + cpodid + '-' + poditemid + ' .pprf-redorder-list li[data-id=\"' + itemid + '\"]' ).addClass('pprf-trashed');\r\n\t\t\t\t\t\t\t\tjQuery( '#panda-repeater-fields-' + cpodid + '-' + poditemid + ' .pprf-redorder-list li[data-id=\"' + itemid + '\"]' ).css('display', 'none');\r\n\t\t\t\t\t\t\t\tjQuery( '#panda-repeater-fields-' + cpodid + '-' + poditemid + ' .pprf-redorder-list li[data-id=\"' + itemid + '\"] .pprf-row-load-iframe .pprf-edit-span' ).addClass('dashicons-update');\r\n\t\t\t\t\t\t\t\tjQuery( '#panda-repeater-fields-' + cpodid + '-' + poditemid + ' .pprf-redorder-list li[data-id=\"' + itemid + '\"] .pprf-row-load-iframe .pprf-edit-span' ).removeClass('dashicons-edit');\r\n\t\t\t\t\t\t\t\tjQuery( '#panda-repeater-fields-' + cpodid + '-' + poditemid + ' .pprf-redorder-list li[data-id=\"' + itemid + '\"] .pprf-trash-btn').addClass('pprf-btn-trashed');\t\r\n\t\t\t\t\t\t\t\tjQuery( '#panda-repeater-fields-' + cpodid + '-' + poditemid + ' .pprf-redorder-list li[data-id=\"' + itemid + '\"] .pprf-trash-btn').removeClass('pprf-btn-not-trashed');\t\r\n\t\t\t\t\t\t\t\tjQuery( '#panda-repeater-fields-' + cpodid + '-' + poditemid + ' .pprf-redorder-list li[data-id=\"' + itemid + '\"] .pprf-save-btn .pprf-save-icon').attr('src', PANDA_PODS_REPEATER_URL[0] + 'images/save-icon-tran.png');\r\n\t\t\t\t\t\t\t\t\r\n\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif( trashed == 2 ){\t\r\n\t\t\t\t\t\t\t\tjQuery( '#panda-repeater-fields-' + cpodid + '-' + poditemid + ' #' + iframeid ).parent().parent().remove( );\r\n\t\t\t\t\t\t\t\tjQuery( '#panda-repeater-fields-' + cpodid + '-' + poditemid + ' .pprf-redorder-list li[data-id=\"' + itemid + '\"]' ).remove( );\r\n\t\t\t\t\t\t\t\t// if entries limit, toggle the add new \r\n\t\t\t\t\t\t\t\tvar items_left_count\t= jQuery('#panda-repeater-fields-' + cpodid + '-' + poditemid + ' > .pprf-redorder-list > li').length;\r\n\t\t\t\t\t\t\t\tvar limit_int\t=\tparseInt( jQuery( '#panda-repeater-fields-' + cpodid + '-' + poditemid + '-entry-limit' ).val() );\r\n\t\t\t\t\t\t\t\tif( limit_int != 0 && items_left_count < limit_int ){\r\n\t\t\t\t\t\t\t\t\tjQuery( '#panda-repeater-fields-' + cpodid + '-' + poditemid + '-add-new' ).removeClass('hidden');\t\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t}\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t// integrate with simpods js\r\n\t\t\t\t\t\t\t\tif( typeof call_simpods !== 'undefined' && jQuery.isFunction( call_simpods ) ) {\r\n\t\t\t\t\t\t\t\t\tcall_simpods( responses );\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t//document.getElementById( iframeid ).contentWindow.pprf_resize_window() ;\r\n\t\t\t\t\t\t\t pprf_odd_even_color( cpodid + '-' + poditemid );\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t);\t\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n}\r\n//jQuery('.pprf-redorder-btn').click( function(){\r\njQuery( document ).on('click', '.pprf-redorder-btn',\tfunction( evt ){\t\t\r\n\tvar id = jQuery( this ).data('id');\r\n\tjQuery( this ).addClass('hidden');\t\r\n\tjQuery( this ).parent().children('.pprf-save-redorder-btn').removeClass('hidden');\t\r\n\tjQuery( this ).parent().children('.pprf-redorder-list-wrap').removeClass('hidden');\r\n\tjQuery( this ).parent().children('.pprf-row').addClass('hidden');\t\r\n\tjQuery( '#' + id + '-add-new' ).addClass('hidden');\t\r\n});\r\n\r\n//jQuery('.pprf-save-redorder-btn').click( function(){\r\njQuery( document ).on('click', '.pprf-save-redorder-btn',\tfunction( evt ){\t\r\n\tvar id = jQuery( this ).data('id');\r\n\tjQuery( this ).addClass('hidden');\t\r\n\tjQuery( this ).parent().children('.pprf-redorder-list-wrap').addClass('hidden');\t\r\n\tjQuery( this ).parent().children('.pprf-save-redorder-btn').addClass('hidden');\r\n\tjQuery( this ).parent().children('.pprf-redorder-btn').removeClass('hidden');\r\n\tjQuery( this ).parent().children('.pprf-row').removeClass('hidden');\t\r\n\tjQuery( '#' + id + '-add-new' ).removeClass('hidden');\t\r\n});\r\n /**\r\n  * load more\r\n  */\r\n//jQuery('.pprf-load-more-btn').click( function( evt ){\r\njQuery( document ).on('click', '.pprf-load-more-btn',\tfunction( evt ){\r\n\tevt.preventDefault();\r\n\tjQuery( '#pprf-load-more-wrap-' + jQuery( this ).data('target') + ' .pprf-ajax-img').css('display', 'block');\r\n\t\r\n\r\n\tpprf_load_more( jQuery( this).data('target'), jQuery( this ) );\r\n\r\n})\t  \r\n\r\nfunction pprf_load_more( target_str, ele_obj ){\r\n\tvar loaded_arr\t=\tnew Array();\r\n\tjQuery( '#panda-repeater-fields-' + target_str + ' .pprf-redorder-list li' ).each( function( idx_int ) {\r\n\t\tloaded_arr[ idx_int ] = parseInt( jQuery( this ).data('id') );\r\n\t});\r\n\t\r\n\tvar data_obj = {\r\n\t\taction \t\t: \t'admin_pprf_load_more',\r\n\t\tloaded \t\t:\tloaded_arr, \r\n\t\tsecurity \t: \tajax_script.nonce,\r\n\t\tpod_id\t\t: \tele_obj.data('podid'),\r\n\t\tpost_id\t\t: \tele_obj.data('postid'),\r\n\t\tsaved_tb\t: \tele_obj.data('tb'),\r\n\t\tiframe_id \t: \tele_obj.data('iframe_id'),\r\n\t\tpod_item_id\t: \tele_obj.data('poditemid'),\r\n\t\tauthorid\t: \tele_obj.data('userid'),\r\n\t\tcp_title\t: \tele_obj.data('cptitle'),\r\n\t\ttrashable\t: \tele_obj.data('enable-trash'),\r\n\t\torder\t\t: \tele_obj.data('order'),\r\n\t\torder_by\t: \tele_obj.data('order-by'),\r\n\t\tamount\t\t: \tjQuery('#panda-repeater-amount-' + target_str ).val(),\r\n\t\tstart\t\t: \tjQuery('#panda-repeater-start-from-' + target_str ).val()\r\n\t};\r\n\tjQuery( '#pprf-load-more-wrap-' + target_str + ' .pprf-load-more-report' ).text( '' );\r\n\tjQuery.post(\r\n\t\tajax_script.ajaxurl, \r\n\t\tdata_obj, \r\n\t\tfunction( response_obj ){\r\n\t\t\tvar html_build\t=\t'';\r\n\t\t\tif( response_obj.success == true ){\r\n\t\t\t\tvar trashed_count\t\t=\t0;\r\n\t\t\t\t//var not_trashed_count\t=\t0;\r\n\t\t\t\tfor( var i = 0; i < response_obj.data.length; i ++ ){\t\r\n\t\t\t\t\tvar is_repeated\t=\tfalse;\r\n\r\n\t\t\t\t\tif( jQuery( '#pprf-load-more-wrap-' + target_str + ' .panda-repeater-to-load' ).val() == 'append_to' ){ // only need to check repeatition if it is on Append To.\r\n\t\t\t\t\t\tfor( var j = 0; j < loaded_arr.length; j ++ ){\t//inArry doesn't work\r\n\t\t\t\t\t\t\tif( parseInt( response_obj.data[ i ]['id'] ) == loaded_arr[ j ] ){\r\n\t\t\t\t\t\t\t\tis_repeated\t=\ttrue;\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t}\t\t\t\t\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\r\n\t\t\t\t\thtml_build += pprf_build_item_html( response_obj.data[ i ], data_obj.pod_id, data_obj.post_id, data_obj.saved_tb, data_obj.authorid , data_obj.iframe_id, data_obj.pod_item_id, data_obj.cp_title, is_repeated )\r\n\t\t\t\t\tif( response_obj.data[ i ]['trashed'] == 1 ){\r\n\t\t\t\t\t\ttrashed_count ++;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tvar info_text\t=\tresponse_obj.data.length;\r\n\t\t\t\tif( data_obj.trashable == 1 ){\r\n\t\t\t\t\tinfo_text\t=\t( parseInt( response_obj.data.length ) - trashed_count ) + ' published, ' + trashed_count + ' trashed.';\r\n\t\t\t\t}\r\n\t\t\t\tif( jQuery( '#pprf-load-more-wrap-' + target_str + ' .panda-repeater-to-load' ).val() == 'append_to' ){\r\n\t\t\t\t\tjQuery( '#panda-repeater-fields-' + data_obj.saved_tb + '-' + data_obj.pod_item_id + ' .pprf-redorder-list' ).append( html_build ); \r\n\t\t\t\t} else {\r\n\t\t\t\t\tjQuery( '#panda-repeater-fields-' + data_obj.saved_tb + '-' + data_obj.pod_item_id + ' .pprf-redorder-list' ).html( html_build ); \r\n\t\t\t\t}\r\n\t\t\t\tpprf_odd_even_color( data_obj.saved_tb + '-' + data_obj.pod_item_id );\r\n\t\t\t\tjQuery( '#pprf-load-more-wrap-' + target_str + ' .pprf-ajax-img').css('display', 'none');\r\n\r\n\t\t\t\tif( response_obj.data.length != 0 ){\r\n\t\t\t\t\tjQuery('#panda-repeater-start-from-' + target_str ).val( parseInt( data_obj.start ) + parseInt( response_obj.data.length ) );\r\n\t\t\t\t}\r\n\r\n\t\t\t\tjQuery( '#pprf-load-more-wrap-' + target_str + ' .pprf-load-more-report' ).text( ' | Loaded ' + info_text );\r\n\t\t\t}\r\n\r\n\t\t\t//pprf_build_item_html( items, podid, postid, cpodid, authorid , iframeid, poditemid, parent_name )\r\n\t\t\t//pprf_new( ele_obj.data('podid'), ele_obj.data('postid'), ele_obj.data('tb'), ele_obj.data('userid'), ele_obj.data('iframe_id'), ele_obj.data('pod_item_id'), ele_obj.data('cptitle') );\r\n\r\n\t\t}\r\n\t);\r\n}\t\r\n/**\r\n * reset colours for each row\r\n */\r\n\r\nfunction pprf_odd_even_color( ids ){\r\n\r\n\tjQuery( '#panda-repeater-fields-' + ids + ' .pprf-left-col').removeClass('pprf-purple-bg');\r\n\tjQuery( '#panda-repeater-fields-' + ids + ' .pprf-left-col').removeClass('pprf-white-bg');\r\n\t\r\n\tif( jQuery( '#panda-repeater-fields-tabs-' + ids ).length == 0 ){\r\n\t\t\r\n\t\tjQuery( '#panda-repeater-fields-' + ids + ' .pprf-left-col').each( function( idx ) {\r\n\t\t\tif( idx % 2 == 0 ){\r\n\t\t\t\tjQuery( this ).addClass('pprf-white-bg');\r\n\t\t\t} else {\r\n\t\t\t\tjQuery( this ).addClass('pprf-purple-bg');\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\tjQuery( '#panda-repeater-fields-' + ids + ' .pprf-not-trashed').each( function( idx ) {\r\n\t\tif( idx % 2 == 0 ){\r\n\t\t\tjQuery( this ).children('.pprf-row').children().children('.pprf-left-col').addClass('pprf-white-bg');\r\n\t\t} else {\r\n\t\t\tjQuery( this ).children('.pprf-row').children().children('.pprf-left-col').addClass('pprf-purple-bg');\r\n\t\t}\r\n\t});\r\n\tjQuery( '#panda-repeater-fields-' + ids + ' .pprf-trashed').each( function( idx ) {\r\n\t\tif( idx % 2 == 0 ){\r\n\t\t\tjQuery( this ).children('.pprf-row').children().children('.pprf-left-col').addClass('pprf-white-bg');\r\n\t\t} else {\r\n\t\t\tjQuery( this ).children('.pprf-row').children().children('.pprf-left-col').addClass('pprf-purple-bg');\r\n\t\t}\r\n\t});\t\r\n}\r\n/**\r\n * if reassigned successfully, remove the item and reset colours\r\n */\r\nfunction pprf_reassign( cpodid, poditemid, itemid ){\r\n\t//console.log( cpodid, poditemid, itemid );\r\n\tjQuery( '#panda-repeater-fields-' + cpodid + '-' + poditemid + ' .pprf-redorder-list li[data-id=\"' + itemid + '\"]' ).remove( );\r\n\t//document.getElementById( iframeid ).contentWindow.pprf_resize_window() ;\r\n\tpprf_odd_even_color( cpodid + '-' + poditemid );\r\n}\r\njQuery(document).ready( function($) {\r\n\t\t\r\n\t/**\r\n\t * fix_helper_modified for drag and drop\r\n\t */\r\n\tvar fix_helper_modified = function(e, tr) {\r\n\t\tvar $originals = tr.children();\r\n\t\tvar $helper = tr.clone();\r\n\t\t$helper.children().each(function(index) {\r\n\t\t\t$(this).width($originals.eq(index).width());\t\t\t\t\t\r\n\t\t});\r\n\t\t\r\n\t\treturn $helper;\r\n\t},\r\n\tupdate_index = function(e, ui) {\r\n\t\tvar the_order = $(this).sortable('toArray');\r\n\r\n\t\tvar data_obj = {\r\n\t\t\taction:   'admin_pprf_update_order',\r\n\t\t\torder: \t  the_order, \r\n\t\t\tsecurity : ajax_script.nonce\r\n\t\t};\r\n\r\n\t\t$.post(\r\n\t\t\tajax_script.ajaxurl, \r\n\t\t\tdata_obj, \r\n\t\t\tfunction( resp_arr ){\t\t\t\t\r\n\t\t\t\tpprf_odd_even_color( resp_arr.data.pprf_id );\r\n\t\t\t}\r\n\t\t)\t\t\t\t\r\n\t};\t\r\n\r\n\tif( $('.pprf-redorder-list.pandarf_order').length != 0 ){\r\n\t\t$('.pprf-redorder-list.pandarf_order').sortable({\r\n\t\t\thelper: fix_helper_modified,\r\n\t\t\tcursor:         'move',\r\n\t\t\topacity:        0.7,\r\n\t\t\ttolerance:      'intersect',\t\t\r\n\t\t\tupdate: \t\tupdate_index,\r\n\t\t\tcancel: \t\t'.pprf-row-load-iframe, .pprf-save-btn, pprf-trash-btn',\r\n\t\t\thandle: \t\t'.pprf-left-col'\r\n\t\t});\t\t\r\n\t}\r\n\r\n\t$(document.body).on('click', '.pprf-row-load-iframe', function( e ){\t\r\n\t\te.stopPropagation();\r\n\t\tvar url_str    \t= $( this ).data('url');\r\n\t\tvar ids_in_css\t   \t= $( this ).data('target');\r\n\t\tvar exp_str\t\t= 'panda-repeater-edit-expand-' + ids_in_css;\r\n\t\tvar iframe_build \t= 'panda-repeater-edit-' + ids_in_css;\t\t\r\n\t\tvar trash_ele\t= $( this ).parent().children('.pprf-trash-btn');\r\n\t\tif( $( this ).children('.pprf-edit-span').hasClass('dashicons-update') ){ \r\n\t\t\t// restore this item\t\t\r\n\t\t\tpprf_delete_item( trash_ele.data('podid'), trash_ele.data('postid'), trash_ele.data('tb'), trash_ele.data('itemid'), trash_ele.data('userid'), trash_ele.data('iframe_id'), trash_ele.data('poditemid'), 0 );\r\n\t\t} else { \r\n\t\t\tvar addEdit_str\t= ' .pprf-edit';\t\r\n\t\t\tif( $( this ).hasClass('pprf-add') ){\r\n\t\t\t\taddEdit_str\t= '.pprf-add';\t\r\n\t\t\t\tiframe_build \t= 'panda-repeater-add-new-' + ids_in_css;\r\n\t\t\t\texp_str\t\t= 'panda-repeater-add-new-expand-' + ids_in_css;\r\n\t\t\t}\t\r\n\t\t\t\r\n\t\t\tif( $('#pprf-row-brief-' + ids_in_css + ' .dashicons' ).hasClass('dashicons-edit') ){\t\t\r\n\t\t\t\t\r\n\t\t\t\t//if iframe not loaded\r\n\t\t\t\t\r\n\t\t\t\tif( $('#' + iframe_build ).attr('src') == '' ){\r\n\t\t\t\t\t$('#' + iframe_build ).attr('src', url_str ); \r\n\t\t\t\t\t$('#' + iframe_build + '-' + 'loader' ).removeClass('hidden');\t\t\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t$('#' + iframe_build ).show('slow',function(){\r\n\t\t\t\t\t$('#pprf-row-brief-' + ids_in_css + '' + addEdit_str + ' .dashicons' ).addClass('dashicons-arrow-up');\r\n\t\t\t\t\t$('#pprf-row-brief-' + ids_in_css + '' + addEdit_str + ' .dashicons' ).removeClass('dashicons-edit');\t\t\r\n\t\t\t\t});\r\n\t\t\t\t$('#' + exp_str ).show();\t\r\n\t\t\t\t$('#' + iframe_build ).on('load', function(){\r\n\t\t\t\t\t\r\n\t\t\t\t\t$('#' + iframe_build + '-' + 'loader' ).addClass('hidden');\t\r\n\t\t\t\t\t//change icon\t\r\n\t\t\t\t\t$('#panda-repeater-save-' + ids_in_css + '-' + 'loader' ).parent().children('.pprf-save-icon').attr('src', PANDA_PODS_REPEATER_URL[0] + '/images/save-icon.png');\r\n\t\t\t\t\t$('#panda-repeater-save-' + ids_in_css + '-' + 'loader' ).parent().addClass('pprf-btn-ready');\r\n\t\t\t\t\t$('#panda-repeater-save-' + ids_in_css + '-' + 'loader' ).addClass('hidden');\r\n\t\t\t\t\t//$('#pprf-row-brief-' + ids_in_css + '' ).addClass('hidden');\t\r\n\t\t\t\t\t//$('#' + iframe_build )[0].contentWindow.pprf_resize_window();\r\n\t\t\t\t\t//console.log( $(this).parent().height() );\r\n\t\t\t\t\t$('#pprf-row-brief-' + ids_in_css + '' + addEdit_str + ' .dashicons' ).addClass('dashicons-arrow-up');\r\n\t\t\t\t\t$('#pprf-row-brief-' + ids_in_css + '' + addEdit_str + ' .dashicons' ).removeClass('dashicons-edit');\t\t\t\t\t\t\r\n\t\t\t\t});\t\r\n\t\t\t//\tif( $('#pprf-row-brief-' + ids_in_css + ' .dashicons' ).hasClass('dashicons') ){\t\r\n\r\n\t\t\t\t//}\r\n\t\t\t} else {\r\n\t\t\t\t\r\n\t\t\t\t$('#' + iframe_build ).hide('slow',function(){\r\n\t\t\t\t\t$('#pprf-row-brief-' + ids_in_css + '' + addEdit_str + ' .dashicons' ).removeClass('dashicons-arrow-up');\r\n\t\t\t\t\t$('#pprf-row-brief-' + ids_in_css + '' + addEdit_str + ' .dashicons' ).addClass('dashicons-edit');\t\r\n\t\t\t\t});\t\r\n\t\t\t\t$('#' + exp_str ).hide();\t\t\t\t\t\r\n\t\t\t//\tif( $('#pprf-row-brief-' + ids_in_css + ' .dashicons' ).hasClass('dashicons') ){\t\r\n\t\t\t\t\t\t\r\n\t\t\t//\t}\r\n\t\t\t}\r\n\t\t\t$('#pprf-row-brief-' + ids_in_css + ' .dashicons-trash' ).removeClass('dashicons-arrow-up');\r\n\t\t}\r\n\t\t\r\n\t});\t\r\n\t/**\r\n\t * click to explan its iframe\r\n\t */\t\r\n\t$( document.body ).on('click', '.pprf-expand-bar', function(){\t\t\t\t\r\n\t\tvar ids\t   \t= $( this ).data('target');\r\n\t\tvar iframe \t= 'panda-repeater-edit-' + ids;\r\n\t\tif( $( this ).hasClass('pprf-add-expand') ){\r\n\t\t\tiframe \t= 'panda-repeater-add-new-' + ids;\t\t\t\r\n\t\t}\t\r\n\t\tif( typeof document.getElementById( iframe ) != 'undefined' ){\r\n\t\t\t\r\n\t\t\tif( typeof document.getElementById( iframe ).contentWindow.pprf_resize_window != 'undefined' ){ \r\n\t\t\t\tdocument.getElementById( iframe ).contentWindow.pprf_resize_window();\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\t/**\r\n\t * click to delete\r\n\t */\t \r\n\t$( document.body ).on('click', '.pprf-trash-btn', function( e ){\t\t\r\n\t\te.stopPropagation();\r\n\t\tvar ids\t   \t= $( this ).data('target');\r\n\t\tvar iframe \t= 'panda-repeater-edit-' + ids;\r\n\t\tif( $( this ).hasClass('pprf-add-expand') ){\r\n\t\t\tiframe \t= 'panda-repeater-add-new-' + ids;\t\t\t\r\n\t\t}\t\r\n\t\tvar trash\t= 0;\r\n\t\tif( $( this ).hasClass('pprf-btn-not-trashed') ){\r\n\t\t\ttrash\t= 1;\r\n\t\t}\r\n\t\tif( $( this ).hasClass('pprf-btn-trashed') ){\r\n\t\t\ttrash\t= 2;\r\n\t\t}\t\r\n\t\tif( $( this ).hasClass('pprf-btn-delete') ){\r\n\t\t\ttrash\t= 2;\r\n\t\t}\t\t\t\t\t\t\r\n\t\tpprf_delete_item( $( this ).data('podid'), $( this ).data('postid'), $( this ).data('tb'), $( this ).data('itemid'), $( this ).data('userid'), $( this ).data('iframe_id'), $( this ).data('poditemid'), trash );\r\n\t })\r\n\t \t \r\n\t$(document.body).on('click', '.pprf-save-btn', function( e ){\t\t\r\n\t\t e.stopPropagation();\t\r\n\t\t if( $( this ).hasClass( 'pprf-btn-ready' ) ){\r\n\t\t\tvar ids\t\t= $( this ).data('target');\r\n\t\t\tvar iframe \t= 'panda-repeater-edit-' + ids;\r\n\t\t\tif( $( this ).hasClass('pprf-save-new-btn') ){\r\n\t\t\t\tiframe \t= 'panda-repeater-add-new-' + ids;\r\n\t\t\t}\t\t\t \r\n\t\t\t$('#panda-repeater-save-' + ids + '-loader' ).removeClass('hidden');\r\n\t\t\t\r\n\t\t\t$('#' + iframe ).contents().find('.pods-submit-button').trigger( \"click\" );\t\r\n\t\t\tpprf_is_changed\t=\tfalse;\t\t\r\n\r\n\t\t }\r\n\t });\r\n\t /**\r\n\t  * if a pods is is clicked, flag it as saved\r\n\t  */\r\n\t $('.toplevel_page_panda-pods-repeater-field .pods-field-input').on('click keyup change', function(){\r\n\t\t pprf_is_changed\t=\ttrue;\r\n\t });\r\n\r\n\r\n\t$( document ).on('click', '#publishing-action .button, #save-action .button', function(){\t\t\t\t\r\n\t\t  if( pprf_is_changed ){\r\n\t\t\tevt.preventDefault();\r\n\t\t\tvar leave = confirm( strs_obj.Ignore_changes );\r\n\t\t\tif ( leave == true){\r\n\t\t\t\tpprf_is_changed\t=\tfalse;\r\n\t\t\t\t//$( this ).click();\r\n\t\t\t\t$( this ).trigger('click');\r\n\t\t\t} \r\n\t\t\tif ( leave == false){\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t  }\r\n\t });\r\n\r\n\t /**\r\n\t  * toggle trashed and current\r\n\t  */\t\r\n\t$(document.body).on('click', '.pprf-tab .dashicons-trash', function(){\t\t\t\r\n\t \t\r\n\t \t$( '#panda-repeater-fields-' + $( this).parent().data('target') + ' .pprf-trashed').css('display', 'block');\r\n\t \t$( '#panda-repeater-fields-' + $( this).parent().data('target') + ' .pprf-not-trashed').css('display', 'none');\r\n\t \t$( this ).parent().parent().children('.active').removeClass('active');\r\n\t \t$( this ).parent().addClass('active');\r\n\t \tpprf_odd_even_color( $( this).parent().data('target') );\r\n\r\n\t})\t\r\n\t$(document.body).on('click', '.pprf-tab .dashicons-portfolio', function(){\t\t\t\r\n\t \t$( '#panda-repeater-fields-' + $( this).parent().data('target') + ' .pprf-trashed').css('display', 'none');\r\n\t \t$( '#panda-repeater-fields-' + $( this).parent().data('target') + ' .pprf-not-trashed').css('display', 'block');\r\n\t \t$( this ).parent().parent().children('.active').removeClass('active');\r\n\t \t$( this ).parent().addClass('active');\t \t\r\n\t \tpprf_odd_even_color( $( this).parent().data('target') );\r\n\t})\t \r\n \r\n \t/**\r\n \t * remove repeated\r\n \t */ \t\r\n \t$(document.body).on('click', '.pprf-dismiss-btn', function(){\t\r\n \t\t$('#li-' + $( this ).data('target') + '-repeated' ).remove();\r\n \t})\r\n});\r\n \r\nvar pprf_is_changed\t=\tfalse;\t"]}